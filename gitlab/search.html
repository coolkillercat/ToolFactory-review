<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>search API Documentation</title>
</head>
<body>
<hr />
<p>stage: Data Stores
group: Global Search
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments</p>
<hr />
<h1>Search API</h1>
<p>DETAILS:
<strong>Tier:</strong> Free, Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<p><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/244923">Feature flag <code>search_filter_by_confidential</code> removed</a> in GitLab 13.6.</p>
</blockquote>
<p>Every API call to search must be authenticated.</p>
<h2>Additional scopes</h2>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<p>Additional scopes are available for the <a href="#advanced-search-api">Advanced Search API</a>
and <a href="#group-search-api">Group Search API</a> if
<a href="../integration/advanced_search/elasticsearch.md">Elasticsearch is enabled</a>:
<code>blobs</code>, <code>commits</code>, <code>notes</code>, <code>wiki_blobs</code>.</p>
<h2>Advanced Search API</h2>
<p>Search for an expression globally across the GitLab instance, in a specified scope.
The response depends on the requested scope.</p>
<p><code>plaintext
GET /search</code></p>
<p>| Attribute     | Type     | Required   | Description |
| ------------- | -------- | ---------- | ------------|
| <code>scope</code>       | string   | Yes | The scope to search in. Values include <code>projects</code>, <code>issues</code>, <code>merge_requests</code>, <code>milestones</code>, <code>snippet_titles</code>, <code>users</code>. <a href="#additional-scopes">Additional scopes</a>: <code>blobs</code>, <code>commits</code>, <code>notes</code>, <code>wiki_blobs</code>. |
| <code>search</code>      | string   | Yes | The search query. |
| <code>confidential</code> | boolean   | No | Filter by confidentiality. Supports <code>issues</code> scope; other scopes are ignored. |
| <code>order_by</code>    | string   | No | Allowed values are <code>created_at</code> only. If not set, results are sorted by <code>created_at</code> in descending order for basic search, or by the most relevant documents for advanced search.|
| <code>sort</code>    | string   | No | Allowed values are <code>asc</code> or <code>desc</code> only. If not set, results are sorted by <code>created_at</code> in descending order for basic search, or by the most relevant documents for advanced search.|
| <code>state</code>       | string   | No | Filter by state. Supports <code>issues</code> and <code>merge_requests</code> scopes; other scopes are ignored. |</p>
<h3>Scope: <code>projects</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=projects&amp;search=flight"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 6,
    "description": "Nobis sed ipsam vero quod cupiditate veritatis hic.",
    "name": "Flight",
    "name_with_namespace": "Twitter / Flight",
    "path": "flight",
    "path_with_namespace": "twitter/flight",
    "created_at": "2017-09-05T07:58:01.621Z",
    "default_branch": "main",
    "tag_list":[], //deprecated, use `topics` instead
    "topics":[],
    "ssh_url_to_repo": "ssh://jarka@localhost:2222/twitter/flight.git",
    "http_url_to_repo": "http://localhost:3000/twitter/flight.git",
    "web_url": "http://localhost:3000/twitter/flight",
    "readme_url": "http://localhost:3000/twitter/flight/-/blob/main/README.md",
    "avatar_url": null,
    "star_count": 0,
    "forks_count": 0,
    "last_activity_at": "2018-01-31T09:56:30.902Z"
  }
]</code></p>
<h3>Scope: <code>issues</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=issues&amp;search=file"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 83,
    "iid": 1,
    "project_id": 12,
    "title": "Add file",
    "description": "Add first file",
    "state": "opened",
    "created_at": "2018-01-24T06:02:15.514Z",
    "updated_at": "2018-02-06T12:36:23.263Z",
    "closed_at": null,
    "labels":[],
    "milestone": null,
    "assignees": [{
      "id": 20,
      "name": "Ceola Deckow",
      "username": "sammy.collier",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/c23d85a4f50e0ea76ab739156c639231?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/sammy.collier"
    }],
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "root",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/root"
    },
    "assignee": {
      "id": 20,
      "name": "Ceola Deckow",
      "username": "sammy.collier",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/c23d85a4f50e0ea76ab739156c639231?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/sammy.collier"
    },
    "user_notes_count": 0,
    "upvotes": 0,
    "downvotes": 0,
    "due_date": null,
    "confidential": false,
    "discussion_locked": null,
    "web_url": "http://localhost:3000/h5bp/7bp/subgroup-prj/issues/1",
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    }
  }
]</code></p>
<p>NOTE:
The <code>assignee</code> column is deprecated. It is shown as a single-sized array <code>assignees</code> to conform to the GitLab EE API.</p>
<h3>Scope: <code>merge_requests</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=merge_requests&amp;search=file"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 56,
    "iid": 8,
    "project_id": 6,
    "title": "Add first file",
    "description": "This is a test MR to add file",
    "state": "opened",
    "created_at": "2018-01-22T14:21:50.830Z",
    "updated_at": "2018-02-06T12:40:33.295Z",
    "target_branch": "main",
    "source_branch": "jaja-test",
    "upvotes": 0,
    "downvotes": 0,
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "root",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/root"
    },
    "assignee": {
      "id": 5,
      "name": "Jacquelyn Kutch",
      "username": "abigail",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/3138c66095ee4bd11a508c2f7f7772da?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/abigail"
    },
    "source_project_id": 6,
    "target_project_id": 6,
    "labels": [
      "ruby",
      "tests"
    ],
    "draft": false,
    "work_in_progress": false,
    "milestone": {
      "id": 13,
      "iid": 3,
      "project_id": 6,
      "title": "v2.0",
      "description": "Qui aut qui eos dolor beatae itaque tempore molestiae.",
      "state": "active",
      "created_at": "2017-09-05T07:58:29.099Z",
      "updated_at": "2017-09-05T07:58:29.099Z",
      "due_date": null,
      "start_date": null
    },
    "merge_when_pipeline_succeeds": false,
    "merge_status": "can_be_merged",
    "sha": "78765a2d5e0a43585945c58e61ba2f822e4d090b",
    "merge_commit_sha": null,
    "squash_commit_sha": null,
    "user_notes_count": 0,
    "discussion_locked": null,
    "should_remove_source_branch": null,
    "force_remove_source_branch": true,
    "web_url": "http://localhost:3000/twitter/flight/merge_requests/8",
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    }
  }
]</code></p>
<h3>Scope: <code>milestones</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=milestones&amp;search=release"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 44,
    "iid": 1,
    "project_id": 12,
    "title": "next release",
    "description": "Next release milestone",
    "state": "active",
    "created_at": "2018-02-06T12:43:39.271Z",
    "updated_at": "2018-02-06T12:44:01.298Z",
    "due_date": "2018-04-18",
    "start_date": "2018-02-04"
  }
]</code></p>
<h3>Scope: <code>snippet_titles</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=snippet_titles&amp;search=sample"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 50,
    "title": "Sample file",
    "file_name": "file.rb",
    "description": "Simple ruby file",
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "root",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/root"
    },
    "updated_at": "2018-02-06T12:49:29.104Z",
    "created_at": "2017-11-28T08:20:18.071Z",
    "project_id": 9,
    "web_url": "http://localhost:3000/root/jira-test/snippets/50"
  }
]</code></p>
<h3>Scope: <code>wiki_blobs</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=wiki_blobs&amp;search=bye"</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
    "basename": "home",
    "data": "hello\n\nand bye\n\nend",
    "path": "home.md",
    "filename": "home.md",
    "id": null,
    "ref": "main",
    "startline": 5,
    "project_id": 6,
    "group_id": null
  }
]
```</p>
<p>NOTE:
<code>filename</code> is deprecated in favor of <code>path</code>. Both return the full path of the file inside the repository, but in the future <code>filename</code> is intended to be only the filename and not the full path. For details, see <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/34521">issue 34521</a>.</p>
<h3>Scope: commits</h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=commits&amp;search=bye"</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
  "id": "4109c2d872d5fdb1ed057400d103766aaea97f98",
  "short_id": "4109c2d8",
  "title": "goodbye $.browser",
  "created_at": "2013-02-18T22:02:54.000Z",
  "parent_ids": [
    "59d05353ab575bcc2aa958fe1782e93297de64c9"
  ],
  "message": "goodbye $.browser\n",
  "author_name": "angus croll",
  "author_email": "anguscroll@gmail.com",
  "authored_date": "2013-02-18T22:02:54.000Z",
  "committer_name": "angus croll",
  "committer_email": "anguscroll@gmail.com",
  "committed_date": "2013-02-18T22:02:54.000Z",
  "project_id": 6
  }
]
```</p>
<h3>Scope: blobs</h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p>Filters are available for this scope:</p>
<ul>
<li>filename</li>
<li>path</li>
<li>extension</li>
</ul>
<p>To use a filter, include it in your query. For example: <code>a query filename:some_name*</code>.</p>
<p>You may use wildcards (<code>*</code>) to use glob matching.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=blobs&amp;search=installation"</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
    "basename": "README",
    "data": "<code>\n\n## Installation\n\nQuick start using the [pre-built",
    "path": "README.md",
    "filename": "README.md",
    "id": null,
    "ref": "main",
    "startline": 46,
    "project_id": 6
  }
]</code></p>
<p>NOTE:
<code>filename</code> is deprecated in favor of <code>path</code>. Both return the full path of the file inside the repository, but in the future <code>filename</code> is intended to be only the filename and not the full path. For details, see <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/34521">issue 34521</a>.</p>
<h3>Scope: notes</h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=notes&amp;search=maxime"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 191,
    "body": "Harum maxime consequuntur et et deleniti assumenda facilis.",
    "attachment": null,
    "author": {
      "id": 23,
      "name": "User 1",
      "username": "user1",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/111d68d06e2d317b5a59c2c6c5bad808?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/user1"
    },
    "created_at": "2017-09-05T08:01:32.068Z",
    "updated_at": "2017-09-05T08:01:32.068Z",
    "system": false,
    "noteable_id": 22,
    "noteable_type": "Issue",
    "project_id": 6,
    "noteable_iid": 2
  }
]</code></p>
<h3>Scope: users</h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/search?scope=users&amp;search=doe"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 1,
    "name": "John Doe1",
    "username": "user1",
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/c922747a93b40d1ea88262bf1aebee62?s=80&amp;d=identicon",
    "web_url": "http://localhost/user1"
  }
]</code></p>
<h2>Group Search API</h2>
<p>Search for an expression in the specified group.</p>
<p>If a user is not a member of a group and the group is private, a <code>GET</code> request on that group results in a <code>404 Not Found</code> status code.</p>
<p><code>plaintext
GET /groups/:id/search</code></p>
<p>| Attribute | Type | Required | Description  |
| --------- | ---- | -------- | -------------|
| <code>id</code>                | integer or string   | Yes | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the group</a> owned by the authenticated user. |
| <code>scope</code>       | string   | Yes | The scope to search in. Values include <code>issues</code>, <code>merge_requests</code>, <code>milestones</code>, <code>projects</code>, <code>users</code>. <a href="#additional-scopes">Additional scopes</a>: <code>blobs</code>, <code>commits</code>, <code>notes</code>, <code>wiki_blobs</code>. |
| <code>search</code>      | string   | Yes | The search query. |
| <code>confidential</code> | boolean   | No | Filter by confidentiality. Supports only <code>issues</code> scope; other scopes are ignored. |
| <code>order_by</code>    | string   | No | Allowed values are <code>created_at</code> only. If not set, results are sorted by <code>created_at</code> in descending order for basic search, or by the most relevant documents for advanced search.|
| <code>sort</code>    | string   | No | Allowed values are <code>asc</code> or <code>desc</code> only. If not set, results are sorted by <code>created_at</code> in descending order for basic search, or by the most relevant documents for advanced search.|
| <code>state</code>       | string   | No | Filter by state. Supports <code>issues</code> and <code>merge_requests</code> only; other scopes are ignored. |</p>
<p>The response depends on the requested scope.</p>
<h3>Scope: <code>projects</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/3/search?scope=projects&amp;search=flight"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 6,
    "description": "Nobis sed ipsam vero quod cupiditate veritatis hic.",
    "name": "Flight",
    "name_with_namespace": "Twitter / Flight",
    "path": "flight",
    "path_with_namespace": "twitter/flight",
    "created_at": "2017-09-05T07:58:01.621Z",
    "default_branch": "main",
    "tag_list":[], //deprecated, use `topics` instead
    "topics":[],
    "ssh_url_to_repo": "ssh://jarka@localhost:2222/twitter/flight.git",
    "http_url_to_repo": "http://localhost:3000/twitter/flight.git",
    "web_url": "http://localhost:3000/twitter/flight",
    "readme_url": "http://localhost:3000/twitter/flight/-/blob/main/README.md",
    "avatar_url": null,
    "star_count": 0,
    "forks_count": 0,
    "last_activity_at": "2018-01-31T09:56:30.902Z"
  }
]</code></p>
<h3>Scope: <code>issues</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/3/search?scope=issues&amp;search=file"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 83,
    "iid": 1,
    "project_id": 12,
    "title": "Add file",
    "description": "Add first file",
    "state": "opened",
    "created_at": "2018-01-24T06:02:15.514Z",
    "updated_at": "2018-02-06T12:36:23.263Z",
    "closed_at": null,
    "labels":[],
    "milestone": null,
    "assignees": [{
      "id": 20,
      "name": "Ceola Deckow",
      "username": "sammy.collier",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/c23d85a4f50e0ea76ab739156c639231?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/sammy.collier"
    }],
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "root",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/root"
    },
    "assignee": {
      "id": 20,
      "name": "Ceola Deckow",
      "username": "sammy.collier",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/c23d85a4f50e0ea76ab739156c639231?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/sammy.collier"
    },
    "user_notes_count": 0,
    "upvotes": 0,
    "downvotes": 0,
    "due_date": null,
    "confidential": false,
    "discussion_locked": null,
    "web_url": "http://localhost:3000/h5bp/7bp/subgroup-prj/issues/1",
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    }
  }
]</code></p>
<p>NOTE:
<code>assignee</code> column is deprecated, now we show it as a single-sized array <code>assignees</code> to conform to the GitLab EE API.</p>
<h3>Scope: <code>merge_requests</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/3/search?scope=merge_requests&amp;search=file"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 56,
    "iid": 8,
    "project_id": 6,
    "title": "Add first file",
    "description": "This is a test MR to add file",
    "state": "opened",
    "created_at": "2018-01-22T14:21:50.830Z",
    "updated_at": "2018-02-06T12:40:33.295Z",
    "target_branch": "main",
    "source_branch": "jaja-test",
    "upvotes": 0,
    "downvotes": 0,
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "root",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/root"
    },
    "assignee": {
      "id": 5,
      "name": "Jacquelyn Kutch",
      "username": "abigail",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/3138c66095ee4bd11a508c2f7f7772da?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/abigail"
    },
    "source_project_id": 6,
    "target_project_id": 6,
    "labels": [
      "ruby",
      "tests"
    ],
    "draft": false,
    "work_in_progress": false,
    "milestone": {
      "id": 13,
      "iid": 3,
      "project_id": 6,
      "title": "v2.0",
      "description": "Qui aut qui eos dolor beatae itaque tempore molestiae.",
      "state": "active",
      "created_at": "2017-09-05T07:58:29.099Z",
      "updated_at": "2017-09-05T07:58:29.099Z",
      "due_date": null,
      "start_date": null
    },
    "merge_when_pipeline_succeeds": false,
    "merge_status": "can_be_merged",
    "sha": "78765a2d5e0a43585945c58e61ba2f822e4d090b",
    "merge_commit_sha": null,
    "squash_commit_sha": null,
    "user_notes_count": 0,
    "discussion_locked": null,
    "should_remove_source_branch": null,
    "force_remove_source_branch": true,
    "web_url": "http://localhost:3000/twitter/flight/merge_requests/8",
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    }
  }
]</code></p>
<h3>Scope: <code>milestones</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/3/search?scope=milestones&amp;search=release"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 44,
    "iid": 1,
    "project_id": 12,
    "title": "next release",
    "description": "Next release milestone",
    "state": "active",
    "created_at": "2018-02-06T12:43:39.271Z",
    "updated_at": "2018-02-06T12:44:01.298Z",
    "due_date": "2018-04-18",
    "start_date": "2018-02-04"
  }
]</code></p>
<h3>Scope: <code>wiki_blobs</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/6/search?scope=wiki_blobs&amp;search=bye"</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
    "basename": "home",
    "data": "hello\n\nand bye\n\nend",
    "path": "home.md",
    "filename": "home.md",
    "id": null,
    "ref": "main",
    "startline": 5,
    "project_id": 6,
    "group_id": 1
  }
]
```</p>
<p>NOTE:
<code>filename</code> is deprecated in favor of <code>path</code>. Both return the full path of the file inside the repository, but in the future <code>filename</code> is intended to be only the filename and not the full path. For details, see <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/34521">issue 34521</a>.</p>
<h3>Scope: <code>commits</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/6/search?scope=commits&amp;search=bye"</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
  "id": "4109c2d872d5fdb1ed057400d103766aaea97f98",
  "short_id": "4109c2d8",
  "title": "goodbye $.browser",
  "created_at": "2013-02-18T22:02:54.000Z",
  "parent_ids": [
    "59d05353ab575bcc2aa958fe1782e93297de64c9"
  ],
  "message": "goodbye $.browser\n",
  "author_name": "angus croll",
  "author_email": "anguscroll@gmail.com",
  "authored_date": "2013-02-18T22:02:54.000Z",
  "committer_name": "angus croll",
  "committer_email": "anguscroll@gmail.com",
  "committed_date": "2013-02-18T22:02:54.000Z",
  "project_id": 6
  }
]
```</p>
<h3>Scope: <code>blobs</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p>Filters are available for this scope:</p>
<ul>
<li>filename</li>
<li>path</li>
<li>extension</li>
</ul>
<p>To use a filter, include it in your query. For example: <code>a query filename:some_name*</code>.</p>
<p>You may use wildcards (<code>*</code>) to use glob matching.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/6/search?scope=blobs&amp;search=installation"</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
    "basename": "README",
    "data": "<code>\n\n## Installation\n\nQuick start using the [pre-built",
    "path": "README.md",
    "filename": "README.md",
    "id": null,
    "ref": "main",
    "startline": 46,
    "project_id": 6
  }
]</code></p>
<p>NOTE:
<code>filename</code> is deprecated in favor of <code>path</code>. Both return the full path of the file inside the repository, but in the future <code>filename</code> is intended to be only the filename and not the full path. For details, see <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/34521">issue 34521</a>.</p>
<h3>Scope: <code>notes</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/6/search?scope=notes&amp;search=maxime"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 191,
    "body": "Harum maxime consequuntur et et deleniti assumenda facilis.",
    "attachment": null,
    "author": {
      "id": 23,
      "name": "User 1",
      "username": "user1",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/111d68d06e2d317b5a59c2c6c5bad808?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/user1"
    },
    "created_at": "2017-09-05T08:01:32.068Z",
    "updated_at": "2017-09-05T08:01:32.068Z",
    "system": false,
    "noteable_id": 22,
    "noteable_type": "Issue",
    "project_id": 6,
    "noteable_iid": 2
  }
]</code></p>
<h3>Scope: <code>users</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/groups/3/search?scope=users&amp;search=doe"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 1,
    "name": "John Doe1",
    "username": "user1",
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/c922747a93b40d1ea88262bf1aebee62?s=80&amp;d=identicon",
    "web_url": "http://localhost/user1"
  }
]</code></p>
<h2>Project Search API</h2>
<p>Search for an expression in the specified project.</p>
<p>If a user is not a member of a project and the project is private, a <code>GET</code> request on that project results in a <code>404</code> status code.</p>
<p><code>plaintext
GET /projects/:id/search</code></p>
<p>| Attribute | Type | Required | Description |
| --------- | ---- | -------- | ------------|
| <code>id</code> | integer or string | Yes | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>scope</code>       | string   | Yes | The scope to search in. Values include <code>blobs</code>, <code>commits</code>, <code>issues</code>, <code>merge_requests</code>, <code>milestones</code>, <code>notes</code>, <code>users</code>, and <code>wiki_blobs</code>. |
| <code>search</code>      | string   | Yes | The search query. |
| <code>confidential</code> | boolean   | No | Filter by confidentiality. Supports <code>issues</code> scope; other scopes are ignored. |
| <code>ref</code>         | string   | No | The name of a repository branch or tag to search on. The project's default branch is used by default. Applicable only for scopes <code>blobs</code>, <code>commits</code>, and <code>wiki_blobs</code>. |
| <code>order_by</code>    | string   | No | Allowed values are <code>created_at</code> only. If not set, results are sorted by <code>created_at</code> in descending order for basic search, or by the most relevant documents for advanced search.|
| <code>sort</code>    | string   | No | Allowed values are <code>asc</code> or <code>desc</code> only. If not set, results are sorted by <code>created_at</code> in descending order for basic search, or by the most relevant documents for advanced search.|
| <code>state</code>       | string   | No | Filter by state. Supports the <code>issues</code> and <code>merge_requests</code> scopes; other scopes are ignored. |</p>
<p>The response depends on the requested scope.</p>
<h3>Scope: <code>issues</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/projects/12/search?scope=issues&amp;search=file"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 83,
    "iid": 1,
    "project_id": 12,
    "title": "Add file",
    "description": "Add first file",
    "state": "opened",
    "created_at": "2018-01-24T06:02:15.514Z",
    "updated_at": "2018-02-06T12:36:23.263Z",
    "closed_at": null,
    "labels":[],
    "milestone": null,
    "assignees": [{
      "id": 20,
      "name": "Ceola Deckow",
      "username": "sammy.collier",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/c23d85a4f50e0ea76ab739156c639231?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/sammy.collier"
    }],
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "root",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/root"
    },
    "assignee": {
      "id": 20,
      "name": "Ceola Deckow",
      "username": "sammy.collier",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/c23d85a4f50e0ea76ab739156c639231?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/sammy.collier"
    },
    "user_notes_count": 0,
    "upvotes": 0,
    "downvotes": 0,
    "due_date": null,
    "confidential": false,
    "discussion_locked": null,
    "web_url": "http://localhost:3000/h5bp/7bp/subgroup-prj/issues/1",
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    }
  }
]</code></p>
<p>NOTE:
<code>assignee</code> column is deprecated, now we show it as a single-sized array <code>assignees</code> to conform to the GitLab EE API.</p>
<h3>Scope: <code>merge_requests</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/projects/6/search?scope=merge_requests&amp;search=file"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 56,
    "iid": 8,
    "project_id": 6,
    "title": "Add first file",
    "description": "This is a test MR to add file",
    "state": "opened",
    "created_at": "2018-01-22T14:21:50.830Z",
    "updated_at": "2018-02-06T12:40:33.295Z",
    "target_branch": "main",
    "source_branch": "jaja-test",
    "upvotes": 0,
    "downvotes": 0,
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "root",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/root"
    },
    "assignee": {
      "id": 5,
      "name": "Jacquelyn Kutch",
      "username": "abigail",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/3138c66095ee4bd11a508c2f7f7772da?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/abigail"
    },
    "source_project_id": 6,
    "target_project_id": 6,
    "labels": [
      "ruby",
      "tests"
    ],
    "draft": false,
    "work_in_progress": false,
    "milestone": {
      "id": 13,
      "iid": 3,
      "project_id": 6,
      "title": "v2.0",
      "description": "Qui aut qui eos dolor beatae itaque tempore molestiae.",
      "state": "active",
      "created_at": "2017-09-05T07:58:29.099Z",
      "updated_at": "2017-09-05T07:58:29.099Z",
      "due_date": null,
      "start_date": null
    },
    "merge_when_pipeline_succeeds": false,
    "merge_status": "can_be_merged",
    "sha": "78765a2d5e0a43585945c58e61ba2f822e4d090b",
    "merge_commit_sha": null,
    "squash_commit_sha": null,
    "user_notes_count": 0,
    "discussion_locked": null,
    "should_remove_source_branch": null,
    "force_remove_source_branch": true,
    "web_url": "http://localhost:3000/twitter/flight/merge_requests/8",
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    }
  }
]</code></p>
<h3>Scope: <code>milestones</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/projects/12/search?scope=milestones&amp;search=release"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 44,
    "iid": 1,
    "project_id": 12,
    "title": "next release",
    "description": "Next release milestone",
    "state": "active",
    "created_at": "2018-02-06T12:43:39.271Z",
    "updated_at": "2018-02-06T12:44:01.298Z",
    "due_date": "2018-04-18",
    "start_date": "2018-02-04"
  }
]</code></p>
<h3>Scope: <code>notes</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/projects/6/search?scope=notes&amp;search=maxime"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 191,
    "body": "Harum maxime consequuntur et et deleniti assumenda facilis.",
    "attachment": null,
    "author": {
      "id": 23,
      "name": "User 1",
      "username": "user1",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/111d68d06e2d317b5a59c2c6c5bad808?s=80&amp;d=identicon",
      "web_url": "http://localhost:3000/user1"
    },
    "created_at": "2017-09-05T08:01:32.068Z",
    "updated_at": "2017-09-05T08:01:32.068Z",
    "system": false,
    "noteable_id": 22,
    "noteable_type": "Issue",
    "project_id": 6,
    "noteable_iid": 2
  }
]</code></p>
<h3>Scope: <code>wiki_blobs</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>Filters are available for this scope:</p>
<ul>
<li>filename</li>
<li>path</li>
<li>extension</li>
</ul>
<p>To use a filter, include it in your query. For example: <code>a query filename:some_name*</code>.
You may use wildcards (<code>*</code>) to use glob matching.</p>
<p>Wiki blobs searches are performed on both filenames and contents. Search
results:</p>
<ul>
<li>Found in filenames are displayed before results found in contents.</li>
<li>May contain multiple matches for the same blob because the search string
  might be found in both the filename and content, or might appear multiple
  times in the content.</li>
</ul>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/projects/6/search?scope=wiki_blobs&amp;search=bye"</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
    "basename": "home",
    "data": "hello\n\nand bye\n\nend",
    "path": "home.md",
    "filename": "home.md",
    "id": null,
    "ref": "main",
    "startline": 5,
    "project_id": 6,
    "group_id": 1
  }
]
```</p>
<p>NOTE:
<code>filename</code> is deprecated in favor of <code>path</code>. Both return the full path of the file inside the repository, but in the future <code>filename</code> is intended to be only the filename and not the full path. For details, see <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/34521">issue 34521</a>.</p>
<h3>Scope: <code>commits</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>This scope is available only if <a href="../integration/advanced_search/elasticsearch.md">Elasticsearch</a> is enabled.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/projects/6/search?scope=commits&amp;search=bye"</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
  "id": "4109c2d872d5fdb1ed057400d103766aaea97f98",
  "short_id": "4109c2d8",
  "title": "goodbye $.browser",
  "created_at": "2013-02-18T22:02:54.000Z",
  "parent_ids": [
    "59d05353ab575bcc2aa958fe1782e93297de64c9"
  ],
  "message": "goodbye $.browser\n",
  "author_name": "angus croll",
  "author_email": "anguscroll@gmail.com",
  "authored_date": "2013-02-18T22:02:54.000Z",
  "committer_name": "angus croll",
  "committer_email": "anguscroll@gmail.com",
  "committed_date": "2013-02-18T22:02:54.000Z",
  "project_id": 6
  }
]
```</p>
<h3>Scope: <code>blobs</code></h3>
<p>DETAILS:
<strong>Tier:</strong> Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li>Moved to GitLab Premium in 13.9.</li>
</ul>
</blockquote>
<p>Filters are available for this scope:</p>
<ul>
<li>Filename</li>
<li>Path</li>
<li>Extension</li>
</ul>
<p>To use a filter, include it in your query. For example: <code>a query filename:some_name*</code>.
You may use wildcards (<code>*</code>) to use glob matching.</p>
<p>Blobs searches are performed on both filenames and contents. Search results:</p>
<ul>
<li>Found in filenames are displayed before results found in contents.</li>
<li>May contain multiple matches for the same blob because the search string
  might be found in both the filename and content, or might appear multiple
  times in the content.</li>
</ul>
<p><code>shell
curl --request GET --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" https://gitlab.example.com/api/v4/projects/6/search?scope=blobs&amp;search=keyword%20filename:*.py</code></p>
<p>Example response:</p>
<p>```json</p>
<p>[
  {
    "basename": "README",
    "data": "<code>\n\n## Installation\n\nQuick start using the [pre-built",
    "path": "README.md",
    "filename": "README.md",
    "id": null,
    "ref": "main",
    "startline": 46,
    "project_id": 6
  }
]</code></p>
<p>NOTE:
<code>filename</code> is deprecated in favor of <code>path</code>. Both return the full path of the file inside the repository, but in the future <code>filename</code> is intended to be only the filename and not the full path. For details, see <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/34521">issue 34521</a>.</p>
<h3>Scope: <code>users</code></h3>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/projects/6/search?scope=users&amp;search=doe"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 1,
    "name": "John Doe1",
    "username": "user1",
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/c922747a93b40d1ea88262bf1aebee62?s=80&amp;d=identicon",
    "web_url": "http://localhost/user1"
  }
]</code></p>
</body>
</html>