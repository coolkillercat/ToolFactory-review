<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>merge_requests API Documentation</title>
</head>
<body>
<hr />
<p>stage: Create
group: Code Review
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
description: "Documentation for the REST API for merge requests in GitLab."</p>
<hr />
<h1>Merge requests API</h1>
<p>DETAILS:
<strong>Tier:</strong> Free, Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<blockquote>
<ul>
<li><code>reference</code> was <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/20354">deprecated</a> in GitLab 12.7.</li>
<li><code>merged_by</code> was <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/350534">deprecated</a> in GitLab 14.7.</li>
<li><code>merge_status</code> was <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/3169#note_1162532204">deprecated</a> in favor of <code>detailed_merge_status</code> in GitLab 15.6.</li>
<li><code>with_merge_status_recheck</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/115948">changed</a> in GitLab 15.11  <a href="../administration/feature_flags.md">with a flag</a> named <code>restrict_merge_status_recheck</code> to be ignored for requests from users insufficient permissions. Disabled by default.</li>
<li><code>approvals_before_merge</code> was <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/119503">deprecated</a> in GitLab 16.0.</li>
<li><code>prepared_at</code> was <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/122001">introduced</a> in GitLab 16.1.</li>
</ul>
</blockquote>
<p>Authentication is required for API calls to non-public information.</p>
<h2>Removals in API v5</h2>
<p>The <code>approvals_before_merge</code> attribute has been deprecated, and is scheduled to be removed
in API v5 in favor of the <a href="merge_request_approvals.md">Merge request approvals API</a>.</p>
<h2>List merge requests</h2>
<p>Get all merge requests the authenticated user has access to. By
default it returns only merge requests created by the current user. To
get all merge requests, use parameter <code>scope=all</code>.</p>
<p>The <code>state</code> parameter can be used to get only merge requests with a
given state (<code>opened</code>, <code>closed</code>, <code>locked</code>, or <code>merged</code>) or all of them (<code>all</code>).
It should be noted that when searching by <code>locked</code> it mostly returns no results
as it is a short-lived, transitional state. The pagination parameters <code>page</code> and
<code>per_page</code> can be used to restrict the list of merge requests.</p>
<p><code>plaintext
GET /merge_requests
GET /merge_requests?state=opened
GET /merge_requests?state=all
GET /merge_requests?milestone=release
GET /merge_requests?labels=bug,reproduced
GET /merge_requests?author_id=5
GET /merge_requests?author_username=gitlab-bot
GET /merge_requests?my_reaction_emoji=star
GET /merge_requests?scope=assigned_to_me
GET /merge_requests?search=foo&amp;in=title</code></p>
<p>Supported attributes:</p>
<p>| Attribute                       | Type           | Required | Description |
| ------------------------------- | -------------- | -------- | ----------- |
| <code>approved_by_ids</code>               | integer array  | No       | Returns merge requests which have been approved by all the users with the given <code>id</code>. Maximum of 5. <code>None</code> returns merge requests with no approvals. <code>Any</code> returns merge requests with an approval. Premium and Ultimate only. |
| <code>approver_ids</code>                  | integer array  | No       | Returns merge requests which have specified all the users with the given <code>id</code> as individual approvers. <code>None</code> returns merge requests without approvers. <code>Any</code> returns merge requests with an approver. Premium and Ultimate only. |
| <code>approved</code>                      | string         | No       | Filters merge requests by their <code>approved</code> status. <code>yes</code> returns only approved merge requests. <code>no</code> returns only non-approved merge requests. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/3159">Introduced</a> in GitLab 15.11 with the flag <code>mr_approved_filter</code>. Disabled by default. |
| <code>assignee_id</code>                   | integer        | No       | Returns merge requests assigned to the given user <code>id</code>. <code>None</code> returns unassigned merge requests. <code>Any</code> returns merge requests with an assignee. |
| <code>author_id</code>                     | integer        | No       | Returns merge requests created by the given user <code>id</code>. Mutually exclusive with <code>author_username</code>. Combine with <code>scope=all</code> or <code>scope=assigned_to_me</code>. |
| <code>author_username</code>               | string         | No       | Returns merge requests created by the given <code>username</code>. Mutually exclusive with <code>author_id</code>. |
| <code>created_after</code>                 | datetime       | No       | Returns merge requests created on or after the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>created_before</code>                | datetime       | No       | Returns merge requests created on or before the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>deployed_after</code>                | datetime       | No       | Returns merge requests deployed after the given date/time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>deployed_before</code>               | datetime       | No       | Returns merge requests deployed before the given date/time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>environment</code>                   | string         | No       | Returns merge requests deployed to the given environment. |
| <code>in</code>                            | string         | No       | Modify the scope of the <code>search</code> attribute. <code>title</code>, <code>description</code>, or a string joining them with comma. Default is <code>title,description</code>. |
| <code>labels</code>                        | string         | No       | Returns merge requests matching a comma-separated list of labels. <code>None</code> lists all merge requests with no labels. <code>Any</code> lists all merge requests with at least one label. Predefined names are case-insensitive. |
| <code>merge_user_id</code>                 | integer        | No       | Returns merge requests which have been merged by the user with the given user <code>id</code>. Mutually exclusive with <code>merge_user_username</code>. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/140002">Introduced</a> in GitLab 17.0. |
| <code>merge_user_username</code>           | string         | No       | Returns merge requests which have been merged by the user with the given <code>username</code>. Mutually exclusive with <code>merge_user_id</code>. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/140002">Introduced</a> in GitLab 17.0. |
| <code>milestone</code>                     | string         | No       | Returns merge requests for a specific milestone. <code>None</code> returns merge requests with no milestone. <code>Any</code> returns merge requests that have an assigned milestone. |
| <code>my_reaction_emoji</code>             | string         | No       | Returns merge requests reacted by the authenticated user by the given <code>emoji</code>. <code>None</code> returns issues not given a reaction. <code>Any</code> returns issues given at least one reaction. |
| <code>not</code>                           | Hash           | No       | Returns merge requests that do not match the parameters supplied. Accepts: <code>labels</code>, <code>milestone</code>, <code>author_id</code>, <code>author_username</code>, <code>assignee_id</code>, <code>assignee_username</code>, <code>reviewer_id</code>, <code>reviewer_username</code>, <code>my_reaction_emoji</code>. |
| <code>order_by</code>                      | string         | No       | Returns requests ordered by <code>created_at</code>, <code>title</code>, or <code>updated_at</code> fields. Default is <code>created_at</code>. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/331625">Introduced</a> in GitLab 14.8.|
| <code>reviewer_id</code>                   | integer        | No       | Returns merge requests which have the user as a <a href="../user/project/merge_requests/reviews/index.md">reviewer</a> with the given user <code>id</code>. <code>None</code> returns merge requests with no reviewers. <code>Any</code> returns merge requests with any reviewer. Mutually exclusive with <code>reviewer_username</code>. |
| <code>reviewer_username</code>             | string         | No       | Returns merge requests which have the user as a <a href="../user/project/merge_requests/reviews/index.md">reviewer</a> with the given <code>username</code>. <code>None</code> returns merge requests with no reviewers. <code>Any</code> returns merge requests with any reviewer. Mutually exclusive with <code>reviewer_id</code>. |
| <code>scope</code>                         | string         | No       | Returns merge requests for the given scope: <code>created_by_me</code>, <code>assigned_to_me</code> or <code>all</code>. Defaults to <code>created_by_me</code>. |
| <code>search</code>                        | string         | No       | Search merge requests against their <code>title</code> and <code>description</code>. |
| <code>sort</code>                          | string         | No       | Returns requests sorted in <code>asc</code> or <code>desc</code> order. Default is <code>desc</code>. |
| <code>source_branch</code>                 | string         | No       | Returns merge requests with the given source branch. |
| <code>state</code>                         | string         | No       | Returns all merge requests or just those that are <code>opened</code>, <code>closed</code>, <code>locked</code>, or <code>merged</code>. |
| <code>target_branch</code>                 | string         | No       | Returns merge requests with the given target branch. |
| <code>updated_after</code>                 | datetime       | No       | Returns merge requests updated on or after the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>updated_before</code>                | datetime       | No       | Returns merge requests updated on or before the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>view</code>                          | string         | No       | If <code>simple</code>, returns the <code>iid</code>, URL, title, description, and basic state of merge request. |
| <code>with_labels_details</code>           | boolean        | No       | If <code>true</code>, response returns more details for each label in labels field: <code>:name</code>, <code>:color</code>, <code>:description</code>, <code>:description_html</code>, <code>:text_color</code>. Default is <code>false</code>. |
| <code>with_merge_status_recheck</code>     | boolean        | No       | If <code>true</code>, this projection requests (but does not guarantee) that the <code>merge_status</code> field be recalculated asynchronously. Default is <code>false</code>.In GitLab 15.11 and later, enable the <code>restrict_merge_status_recheck</code> feature <a href="../administration/feature_flags.md">flag</a> for this attribute to be ignored when requested by users without at least the Developer role. |
| <code>wip</code>                           | string         | No       | Filter merge requests against their <code>wip</code> status. <code>yes</code> to return <em>only</em> draft merge requests, <code>no</code> to return <em>non-draft</em> merge requests. |</p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 1,
    "iid": 1,
    "project_id": 3,
    "title": "test1",
    "description": "fixed login page css paddings",
    "state": "merged",
    "imported": false,
    "imported_from": "none",
    "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
      "id": 87854,
      "name": "Douwe Maan",
      "username": "DouweM",
      "state": "active",
      "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
      "web_url": "https://gitlab.com/DouweM"
    },
    "merge_user": {
      "id": 87854,
      "name": "Douwe Maan",
      "username": "DouweM",
      "state": "active",
      "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
      "web_url": "https://gitlab.com/DouweM"
    },
    "merged_at": "2018-09-07T11:16:17.520Z",
    "prepared_at": "2018-09-04T11:16:17.520Z",
    "closed_by": null,
    "closed_at": null,
    "created_at": "2017-04-29T08:46:00Z",
    "updated_at": "2017-04-29T08:46:00Z",
    "target_branch": "main",
    "source_branch": "test1",
    "upvotes": 0,
    "downvotes": 0,
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "admin",
      "state": "active",
      "avatar_url": null,
      "web_url" : "https://gitlab.example.com/admin"
    },
    "assignee": {
      "id": 1,
      "name": "Administrator",
      "username": "admin",
      "state": "active",
      "avatar_url": null,
      "web_url" : "https://gitlab.example.com/admin"
    },
    "assignees": [{
      "name": "Miss Monserrate Beier",
      "username": "axel.block",
      "id": 12,
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
      "web_url": "https://gitlab.example.com/axel.block"
    }],
    "reviewers": [{
      "id": 2,
      "name": "Sam Bauch",
      "username": "kenyatta_oconnell",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/956c92487c6f6f7616b536927e22c9a0?s=80&amp;d=identicon",
      "web_url": "http://gitlab.example.com//kenyatta_oconnell"
    }],
    "source_project_id": 2,
    "target_project_id": 3,
    "labels": [
      "Community contribution",
      "Manage"
    ],
    "draft": false,
    "work_in_progress": false,
    "milestone": {
      "id": 5,
      "iid": 1,
      "project_id": 3,
      "title": "v2.0",
      "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
      "state": "closed",
      "created_at": "2015-02-02T19:49:26.013Z",
      "updated_at": "2015-02-02T19:49:26.013Z",
      "due_date": "2018-09-22",
      "start_date": "2018-08-08",
      "web_url": "https://gitlab.example.com/my-group/my-project/milestones/1"
    },
    "merge_when_pipeline_succeeds": true,
    "merge_status": "can_be_merged",
    "detailed_merge_status": "not_open",
    "sha": "8888888888888888888888888888888888888888",
    "merge_commit_sha": null,
    "squash_commit_sha": null,
    "user_notes_count": 1,
    "discussion_locked": null,
    "should_remove_source_branch": true,
    "force_remove_source_branch": false,
    "allow_collaboration": false,
    "allow_maintainer_to_push": false,
    "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
    "references": {
      "short": "!1",
      "relative": "my-group/my-project!1",
      "full": "my-group/my-project!1"
    },
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    },
    "squash": false,
    "task_completion_status":{
      "count":0,
      "completed_count":0
    }
  }
]</code></p>
<h3>Merge requests list response notes</h3>
<ul>
<li>Listing merge requests might
  not proactively update <code>merge_status</code> (which also affects the <code>has_conflicts</code>), as this can be an expensive operation.
  If you need the value of these fields from this endpoint, set the <code>with_merge_status_recheck</code> parameter to
  <code>true</code> in the query.</li>
<li>For notes on merge request object fields, see <a href="#single-merge-request-response-notes">Single merge request response notes</a>.</li>
</ul>
<h2>List project merge requests</h2>
<p>Get all merge requests for this project.</p>
<p><code>plaintext
GET /projects/:id/merge_requests
GET /projects/:id/merge_requests?state=opened
GET /projects/:id/merge_requests?state=all
GET /projects/:id/merge_requests?iids[]=42&amp;iids[]=43
GET /projects/:id/merge_requests?milestone=release
GET /projects/:id/merge_requests?labels=bug,reproduced
GET /projects/:id/merge_requests?my_reaction_emoji=star</code></p>
<p>Supported attributes:</p>
<p>| Attribute                       | Type           | Required | Description |
| ------------------------------- | -------------- | -------- | ----------- |
| <code>id</code>                            | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>approved_by_ids</code>               | integer array  | No       | Returns merge requests which have been approved by all the users with the given <code>id</code>, with a maximum of 5. <code>None</code> returns merge requests with no approvals. <code>Any</code> returns merge requests with an approval. Premium and Ultimate only. |
| <code>approver_ids</code>                  | integer array  | No       | Returns merge requests which have specified all the users with the given <code>id</code> as individual approvers. <code>None</code> returns merge requests without approvers. <code>Any</code> returns merge requests with an approver. Premium and Ultimate only. |
| <code>approved</code>                      | string         | No       | Filters merge requests by their <code>approved</code> status. <code>yes</code> returns only approved merge requests. <code>no</code> returns only non-approved merge requests. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/3159">Introduced</a> in GitLab 15.11. Available only when the feature flag <code>mr_approved_filter</code> is enabled. |
| <code>assignee_id</code>                   | integer        | No       | Returns merge requests assigned to the given user <code>id</code>. <code>None</code> returns unassigned merge requests. <code>Any</code> returns merge requests with an assignee. |
| <code>author_id</code>                     | integer        | No       | Returns merge requests created by the given user <code>id</code>. Mutually exclusive with <code>author_username</code>. |
| <code>author_username</code>               | string         | No       | Returns merge requests created by the given <code>username</code>. Mutually exclusive with <code>author_id</code>. |
| <code>created_after</code>                 | datetime       | No       | Returns merge requests created on or after the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>created_before</code>                | datetime       | No       | Returns merge requests created on or before the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>environment</code>                   | string         | No       | Returns merge requests deployed to the given environment. |
| <code>iids[]</code>                        | integer array  | No       | Returns the request having the given <code>iid</code>. |
| <code>labels</code>                        | string         | No       | Returns merge requests matching a comma-separated list of labels. <code>None</code> lists all merge requests with no labels. <code>Any</code> lists all merge requests with at least one label. Predefined names are case-insensitive. |
| <code>merge_user_id</code>                 | integer        | No       | Returns merge requests which have been merged by the user with the given user <code>id</code>. Mutually exclusive with <code>merge_user_username</code>. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/140002">Introduced</a> in GitLab 17.0. |
| <code>merge_user_username</code>           | string         | No       | Returns merge requests which have been merged by the user with the given <code>username</code>. Mutually exclusive with <code>merge_user_id</code>. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/140002">Introduced</a> in GitLab 17.0. |
| <code>milestone</code>                     | string         | No       | Returns merge requests for a specific milestone. <code>None</code> returns merge requests with no milestone. <code>Any</code> returns merge requests that have an assigned milestone. |
| <code>my_reaction_emoji</code>             | string         | No       | Returns merge requests reacted by the authenticated user by the given <code>emoji</code>. <code>None</code> returns issues not given a reaction. <code>Any</code> returns issues given at least one reaction. |
| <code>not</code>                           | Hash           | No       | Returns merge requests that do not match the parameters supplied. Accepts: <code>labels</code>, <code>milestone</code>, <code>author_id</code>, <code>author_username</code>, <code>assignee_id</code>, <code>assignee_username</code>, <code>reviewer_id</code>, <code>reviewer_username</code>, <code>my_reaction_emoji</code>. |
| <code>order_by</code>                      | string         | No       | Returns requests ordered by <code>created_at</code>, <code>title</code> or <code>updated_at</code> fields. Default is <code>created_at</code>. |
| <code>reviewer_id</code>                   | integer        | No       | Returns merge requests which have the user as a <a href="../user/project/merge_requests/reviews/index.md">reviewer</a> with the given user <code>id</code>. <code>None</code> returns merge requests with no reviewers. <code>Any</code> returns merge requests with any reviewer. Mutually exclusive with <code>reviewer_username</code>.  |
| <code>reviewer_username</code>             | string         | No       | Returns merge requests which have the user as a <a href="../user/project/merge_requests/reviews/index.md">reviewer</a> with the given <code>username</code>. <code>None</code> returns merge requests with no reviewers. <code>Any</code> returns merge requests with any reviewer. Mutually exclusive with <code>reviewer_id</code>. |
| <code>scope</code>                         | string         | No       | Returns merge requests for the given scope: <code>created_by_me</code>, <code>assigned_to_me</code>, or <code>all</code>. |
| <code>search</code>                        | string         | No       | Search merge requests against their <code>title</code> and <code>description</code>. |
| <code>sort</code>                          | string         | No       | Returns requests sorted in <code>asc</code> or <code>desc</code> order. Default is <code>desc</code>. |
| <code>source_branch</code>                 | string         | No       | Returns merge requests with the given source branch. |
| <code>state</code>                         | string         | No       | Returns all merge requests (<code>all</code>) or just those that are <code>opened</code>, <code>closed</code>, <code>locked</code>, or <code>merged</code>.  |
| <code>target_branch</code>                 | string         | No       | Returns merge requests with the given target branch. |
| <code>updated_after</code>                 | datetime       | No       | Returns merge requests updated on or after the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>updated_before</code>                | datetime       | No       | Returns merge requests updated on or before the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>view</code>                          | string         | No       | If <code>simple</code>, returns the <code>iid</code>, URL, title, description, and basic state of merge request. |
| <code>wip</code>                           | string         | No       | Filter merge requests against their <code>wip</code> status. <code>yes</code> to return <em>only</em> draft merge requests, <code>no</code> to return <em>non-draft</em> merge requests. |
| <code>with_labels_details</code>           | boolean        | No       | If <code>true</code>, response returns more details for each label in labels field: <code>:name</code>, <code>:color</code>, <code>:description</code>, <code>:description_html</code>, <code>:text_color</code>. Default is <code>false</code>. |
| <code>with_merge_status_recheck</code>     | boolean        | No       | If <code>true</code>, this projection requests (but does not guarantee) that the <code>merge_status</code> field be recalculated asynchronously. Default is <code>false</code>. In GitLab 15.11 and later, enable the <code>restrict_merge_status_recheck</code> feature <a href="../administration/feature_flags.md">flag</a> for this attribute to be ignored when requested by users without at least the Developer role. |</p>
<p>In the response:</p>
<ul>
<li><code>project_id</code> represents the ID of the project where the merge request resides.
  <code>project_id</code> always equals <code>target_project_id</code>.</li>
<li>Use the pagination parameters <code>page</code> and <code>per_page</code> to restrict the list of merge requests.</li>
<li>Project IDs vary depending on whether the merge request originates from the project, or a fork.
  In merge requests originating from</li>
<li>The same project: <code>target_project_id</code>, <code>project_id</code>, and <code>source_project_id</code> are the same.</li>
<li>A fork: <code>target_project_id</code> and <code>project_id</code> are the same, but <code>source_project_id</code> is the fork project's ID.</li>
</ul>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 1,
    "iid": 1,
    "project_id": 3,
    "title": "test1",
    "description": "fixed login page css paddings",
    "state": "merged",
    "imported": false,
    "imported_from": "none",
    "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
      "id": 87854,
      "name": "Douwe Maan",
      "username": "DouweM",
      "state": "active",
      "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
      "web_url": "https://gitlab.com/DouweM"
    },
    "merge_user": {
      "id": 87854,
      "name": "Douwe Maan",
      "username": "DouweM",
      "state": "active",
      "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
      "web_url": "https://gitlab.com/DouweM"
    },
    "merged_at": "2018-09-07T11:16:17.520Z",
    "prepared_at": "2018-09-04T11:16:17.520Z",
    "closed_by": null,
    "closed_at": null,
    "created_at": "2017-04-29T08:46:00Z",
    "updated_at": "2017-04-29T08:46:00Z",
    "target_branch": "main",
    "source_branch": "test1",
    "upvotes": 0,
    "downvotes": 0,
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "admin",
      "state": "active",
      "avatar_url": null,
      "web_url" : "https://gitlab.example.com/admin"
    },
    "assignee": {
      "id": 1,
      "name": "Administrator",
      "username": "admin",
      "state": "active",
      "avatar_url": null,
      "web_url" : "https://gitlab.example.com/admin"
    },
    "assignees": [{
      "name": "Miss Monserrate Beier",
      "username": "axel.block",
      "id": 12,
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
      "web_url": "https://gitlab.example.com/axel.block"
    }],
    "reviewers": [{
      "id": 2,
      "name": "Sam Bauch",
      "username": "kenyatta_oconnell",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/956c92487c6f6f7616b536927e22c9a0?s=80&amp;d=identicon",
      "web_url": "http://gitlab.example.com//kenyatta_oconnell"
    }],
    "source_project_id": 2,
    "target_project_id": 3,
    "labels": [
      "Community contribution",
      "Manage"
    ],
    "draft": false,
    "work_in_progress": false,
    "milestone": {
      "id": 5,
      "iid": 1,
      "project_id": 3,
      "title": "v2.0",
      "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
      "state": "closed",
      "created_at": "2015-02-02T19:49:26.013Z",
      "updated_at": "2015-02-02T19:49:26.013Z",
      "due_date": "2018-09-22",
      "start_date": "2018-08-08",
      "web_url": "https://gitlab.example.com/my-group/my-project/milestones/1"
    },
    "merge_when_pipeline_succeeds": true,
    "merge_status": "can_be_merged",
    "detailed_merge_status": "not_open",
    "sha": "8888888888888888888888888888888888888888",
    "merge_commit_sha": null,
    "squash_commit_sha": null,
    "user_notes_count": 1,
    "discussion_locked": null,
    "should_remove_source_branch": true,
    "force_remove_source_branch": false,
    "allow_collaboration": false,
    "allow_maintainer_to_push": false,
    "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
    "references": {
      "short": "!1",
      "relative": "!1",
      "full": "my-group/my-project!1"
    },
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    },
    "squash": false,
    "task_completion_status":{
      "count":0,
      "completed_count":0
    },
    "has_conflicts": false,
    "blocking_discussions_resolved": true
  }
]</code></p>
<p>For important notes on response data, see <a href="#merge-requests-list-response-notes">Merge requests list response notes</a>.</p>
<h2>List group merge requests</h2>
<p>Get all merge requests for this group and its subgroups.</p>
<p><code>plaintext
GET /groups/:id/merge_requests
GET /groups/:id/merge_requests?state=opened
GET /groups/:id/merge_requests?state=all
GET /groups/:id/merge_requests?milestone=release
GET /groups/:id/merge_requests?labels=bug,reproduced
GET /groups/:id/merge_requests?my_reaction_emoji=star</code></p>
<p>Supported attributes:</p>
<p>| Attribute                       | Type           | Required | Description |
| ------------------------------- | -------------- | -------- | ----------- |
| <code>id</code>                            | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the group</a> owned by the authenticated user. |
| <code>approved_by_ids</code>               | integer array  | No       | Returns merge requests which have been approved by all the users with the given <code>id</code>, with a maximum of 5. <code>None</code> returns merge requests with no approvals. <code>Any</code> returns merge requests with an approval. Premium and Ultimate only. |
| <code>approved_by_usernames</code>         | string array  | No       | Returns merge requests which have been approved by all the users with the given <code>username</code>, with a maximum of 5. <code>None</code> returns merge requests with no approvals. <code>Any</code> returns merge requests with an approval. Premium and Ultimate only. |
| <code>approver_ids</code>                  | integer array  | No       | Returns merge requests which have specified all the users with the given <code>id</code>s as individual approvers. <code>None</code> returns merge requests without approvers. <code>Any</code> returns merge requests with an approver. Premium and Ultimate only. |
| <code>approved</code>                      | string         | No       | Filters merge requests by their <code>approved</code> status. <code>yes</code> returns only approved merge requests. <code>no</code> returns only non-approved merge requests. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/3159">Introduced</a> in GitLab 15.11. Available only when the feature flag <code>mr_approved_filter</code> is enabled. |
| <code>assignee_id</code>                   | integer        | No       | Returns merge requests assigned to the given user <code>id</code>. <code>None</code> returns unassigned merge requests. <code>Any</code> returns merge requests with an assignee. |
| <code>author_id</code>                     | integer        | No       | Returns merge requests created by the given user <code>id</code>. Mutually exclusive with <code>author_username</code>. |
| <code>author_username</code>               | string         | No       | Returns merge requests created by the given <code>username</code>. Mutually exclusive with <code>author_id</code>. |
| <code>created_after</code>                 | datetime       | No       | Returns merge requests created on or after the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>created_before</code>                | datetime       | No       | Returns merge requests created on or before the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>labels</code>                        | string         | No       | Returns merge requests matching a comma-separated list of labels. <code>None</code> lists all merge requests with no labels. <code>Any</code> lists all merge requests with at least one label. Predefined names are case-insensitive. |
| <code>merge_user_id</code>                 | integer        | No       | Returns merge requests which have been merged by the user with the given user <code>id</code>. Mutually exclusive with <code>merge_user_username</code>. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/140002">Introduced</a> in GitLab 17.0. |
| <code>merge_user_username</code>           | string         | No       | Returns merge requests which have been merged by the user with the given <code>username</code>. Mutually exclusive with <code>merge_user_id</code>. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/140002">Introduced</a> in GitLab 17.0. |
| <code>milestone</code>                     | string         | No       | Returns merge requests for a specific milestone. <code>None</code> returns merge requests with no milestone. <code>Any</code> returns merge requests that have an assigned milestone. |
| <code>my_reaction_emoji</code>             | string         | No       | Returns merge requests reacted by the authenticated user by the given <code>emoji</code>. <code>None</code> returns issues not given a reaction. <code>Any</code> returns issues given at least one reaction. |
| <code>non_archived</code>                  | boolean        | No       | Returns merge requests from non archived projects only. Default is <code>true</code>. |
| <code>not</code>                           | Hash           | No       | Returns merge requests that do not match the parameters supplied. Accepts: <code>labels</code>, <code>milestone</code>, <code>author_id</code>, <code>author_username</code>, <code>assignee_id</code>, <code>assignee_username</code>, <code>reviewer_id</code>, <code>reviewer_username</code>, <code>my_reaction_emoji</code>. |
| <code>order_by</code>                      | string         | No       | Returns merge requests ordered by <code>created_at</code>, <code>title</code> or <code>updated_at</code> fields. Default is <code>created_at</code>. |
| <code>reviewer_id</code>                   | integer        | No       | Returns merge requests which have the user as a <a href="../user/project/merge_requests/reviews/index.md">reviewer</a> with the given user <code>id</code>. <code>None</code> returns merge requests with no reviewers. <code>Any</code> returns merge requests with any reviewer. Mutually exclusive with <code>reviewer_username</code>. |
| <code>reviewer_username</code>             | string         | No       | Returns merge requests which have the user as a <a href="../user/project/merge_requests/reviews/index.md">reviewer</a> with the given <code>username</code>. <code>None</code> returns merge requests with no reviewers. <code>Any</code> returns merge requests with any reviewer. Mutually exclusive with <code>reviewer_id</code>. |
| <code>scope</code>                         | string         | No       | Returns merge requests for the given scope: <code>created_by_me</code>, <code>assigned_to_me</code> or <code>all</code>. |
| <code>search</code>                        | string         | No       | Search merge requests against their <code>title</code> and <code>description</code>. |
| <code>source_branch</code>                 | string         | No       | Returns merge requests with the given source branch. |
| <code>sort</code>                          | string         | No       | Returns merge requests sorted in <code>asc</code> or <code>desc</code> order. Default is <code>desc</code>. |
| <code>state</code>                         | string         | No       | Returns all merge requests (<code>all</code>) or just those that are <code>opened</code>, <code>closed</code>, <code>locked</code>, or <code>merged</code>. |
| <code>target_branch</code>                 | string         | No       | Returns merge requests with the given target branch. |
| <code>updated_after</code>                 | datetime       | No       | Returns merge requests updated on or after the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>updated_before</code>                | datetime       | No       | Returns merge requests updated on or before the given time. Expected in ISO 8601 format (<code>2019-03-15T08:00:00Z</code>). |
| <code>view</code>                          | string         | No       | If <code>simple</code>, returns the <code>iid</code>, URL, title, description, and basic state of merge request. |
| <code>with_labels_details</code>           | boolean        | No       | If <code>true</code>, response returns more details for each label in labels field: <code>:name</code>, <code>:color</code>, <code>:description</code>, <code>:description_html</code>, <code>:text_color</code>. Default is <code>false</code>. |
| <code>with_merge_status_recheck</code>     | boolean        | No       | If <code>true</code>, this projection requests (but does not guarantee) that the <code>merge_status</code> field be recalculated asynchronously. Default is <code>false</code>. In GitLab 15.11 and later, enable the <code>restrict_merge_status_recheck</code> feature <a href="../administration/feature_flags.md">flag</a> for this attribute to be ignored when requested by users without at least the Developer role. |</p>
<p>The pagination parameters <code>page</code> and <code>per_page</code> can be used to restrict the list of merge requests.</p>
<p>In the response, <code>group_id</code> represents the ID of the group containing the project where the merge request resides.</p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 1,
    "iid": 1,
    "project_id": 3,
    "title": "test1",
    "description": "fixed login page css paddings",
    "state": "merged",
    "imported": false,
    "imported_from": "none",
    "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
      "id": 87854,
      "name": "Douwe Maan",
      "username": "DouweM",
      "state": "active",
      "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
      "web_url": "https://gitlab.com/DouweM"
    },
    "merge_user": {
      "id": 87854,
      "name": "Douwe Maan",
      "username": "DouweM",
      "state": "active",
      "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
      "web_url": "https://gitlab.com/DouweM"
    },
    "merged_at": "2018-09-07T11:16:17.520Z",
    "prepared_at": "2018-09-04T11:16:17.520Z",
    "closed_by": null,
    "closed_at": null,
    "created_at": "2017-04-29T08:46:00Z",
    "updated_at": "2017-04-29T08:46:00Z",
    "target_branch": "main",
    "source_branch": "test1",
    "upvotes": 0,
    "downvotes": 0,
    "author": {
      "id": 1,
      "name": "Administrator",
      "username": "admin",
      "state": "active",
      "avatar_url": null,
      "web_url" : "https://gitlab.example.com/admin"
    },
    "assignee": {
      "id": 1,
      "name": "Administrator",
      "username": "admin",
      "state": "active",
      "avatar_url": null,
      "web_url" : "https://gitlab.example.com/admin"
    },
    "assignees": [{
      "name": "Miss Monserrate Beier",
      "username": "axel.block",
      "id": 12,
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
      "web_url": "https://gitlab.example.com/axel.block"
    }],
    "reviewers": [{
      "id": 2,
      "name": "Sam Bauch",
      "username": "kenyatta_oconnell",
      "state": "active",
      "avatar_url": "https://www.gravatar.com/avatar/956c92487c6f6f7616b536927e22c9a0?s=80&amp;d=identicon",
      "web_url": "http://gitlab.example.com//kenyatta_oconnell"
    }],
    "source_project_id": 2,
    "target_project_id": 3,
    "labels": [
      "Community contribution",
      "Manage"
    ],
    "draft": false,
    "work_in_progress": false,
    "milestone": {
      "id": 5,
      "iid": 1,
      "project_id": 3,
      "title": "v2.0",
      "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
      "state": "closed",
      "created_at": "2015-02-02T19:49:26.013Z",
      "updated_at": "2015-02-02T19:49:26.013Z",
      "due_date": "2018-10-22",
      "start_date": "2018-09-08",
      "web_url": "gitlab.example.com/my-group/my-project/milestones/1"
    },
    "merge_when_pipeline_succeeds": true,
    "merge_status": "can_be_merged",
    "detailed_merge_status": "not_open",
    "sha": "8888888888888888888888888888888888888888",
    "merge_commit_sha": null,
    "squash_commit_sha": null,
    "user_notes_count": 1,
    "discussion_locked": null,
    "should_remove_source_branch": true,
    "force_remove_source_branch": false,
    "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
    "references": {
      "short": "!1",
      "relative": "my-project!1",
      "full": "my-group/my-project!1"
    },
    "time_stats": {
      "time_estimate": 0,
      "total_time_spent": 0,
      "human_time_estimate": null,
      "human_total_time_spent": null
    },
    "squash": false,
    "task_completion_status":{
      "count":0,
      "completed_count":0
    },
    "has_conflicts": false,
    "blocking_discussions_resolved": true
  }
]</code></p>
<p>For important notes on response data, see <a href="#merge-requests-list-response-notes">Merge requests list response notes</a>.</p>
<h2>Get single MR</h2>
<p>Shows information about a single merge request.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid</code></p>
<p>Supported attributes:</p>
<p>| Attribute                        | Type           | Required | Description |
|----------------------------------|----------------|----------|-------------|
| <code>id</code>                             | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code>              | integer        | Yes      | The internal ID of the merge request. |
| <code>include_diverged_commits_count</code> | boolean        | No       | If <code>true</code>, response includes the commits behind the target branch. |
| <code>include_rebase_in_progress</code>     | boolean        | No       | If <code>true</code>, response includes whether a rebase operation is in progress. |
| <code>render_html</code>                    | boolean        | No       | If <code>true</code>, response includes rendered HTML for title and description. |</p>
<h3>Response</h3>
<p>| Attribute                        | Type | Description |
|----------------------------------|------|-------------|
| <code>approvals_before_merge</code>| integer | Number of approvals required before this merge request can merge. To configure approval rules, see <a href="merge_request_approvals.md">Merge request approvals API</a>. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/353097">Deprecated</a> in GitLab 16.0. Premium and Ultimate only. |
| <code>assignee</code> | object | First assignee of the merge request. |
| <code>assignees</code> | array | Assignees of the merge request. |
| <code>author</code> | object | User who created this merge request. |
| <code>blocking_discussions_resolved</code> | boolean | Indicates if all discussions are resolved only if all are required before merge request can be merged. |
| <code>changes_count</code> | string | Number of changes made on the merge request. Empty when the merge request is created, and populates asynchronously. A string, not an integer. When a merge request has too many changes to display and store, the value is capped at 1000 and returns the string <code>"1000+"</code>. See <a href="#empty-api-fields-for-new-merge-requests">Empty API Fields for new merge requests</a>.|
| <code>closed_at</code> | datetime | Timestamp of when the merge request was closed. |
| <code>closed_by</code> | object | User who closed this merge request. |
| <code>created_at</code> | datetime | Timestamp of when the merge request was created. |
| <code>description</code> | string | Description of the merge request. Contains Markdown rendered as HTML for caching. |
| <code>detailed_merge_status</code> | string | Detailed merge status of the merge request. See <a href="#merge-status">merge status</a> for a list of potential values. |
| <code>diff_refs</code> | object | References of the base SHA, the head SHA, and the start SHA for this merge request. Corresponds to the latest diff version of the merge request. Empty when the merge request is created, and populates asynchronously. See <a href="#empty-api-fields-for-new-merge-requests">Empty API fields for new merge requests</a>. |
| <code>discussion_locked</code> | boolean | Indicates if comments on the merge request are locked to members only. |
| <code>downvotes</code> | integer | Number of downvotes for the merge request. |
| <code>draft</code> | boolean | Indicates if the merge request is a draft. |
| <code>first_contribution</code> | boolean | Indicates if the merge request is the first contribution of the author. |
| <code>first_deployed_to_production_at</code> | datetime | Timestamp of when the first deployment finished. |
| <code>force_remove_source_branch</code> | boolean | Indicates if the project settings lead to source branch deletion after merge. |
| <code>has_conflicts</code> | boolean | Indicates if merge request has conflicts and cannot be merged. Dependent on the <code>merge_status</code> property. Returns <code>false</code> unless <code>merge_status</code> is <code>cannot_be_merged</code>. |
| <code>head_pipeline</code> | object | Pipeline running on the branch HEAD of the merge request. Contains more complete information than <code>pipeline</code> and should be used instead of it. |
| <code>id</code> | integer | ID of the merge request. |
| <code>iid</code> | integer | Internal ID of the merge request. |
| <code>labels</code> | array | Labels of the merge request. |
| <code>latest_build_finished_at</code> | datetime | Timestamp of when the latest build for the merge request finished. |
| <code>latest_build_started_at</code> | datetime | Timestamp of when the latest build for the merge request started. |
| <code>merge_commit_sha</code> | string | SHA of the merge request commit. Returns <code>null</code> until merged. |
| <code>merge_error</code> | string | Error message shown when a merge has failed. To check mergeability, use <code>detailed_merge_status</code> instead  |
| <code>merge_user</code> | object | The user who merged this merge request, the user who set it to auto-merge, or <code>null</code>.  |
| <code>merge_status</code> | string | Status of the merge request. Can be <code>unchecked</code>, <code>checking</code>, <code>can_be_merged</code>, <code>cannot_be_merged</code>, or <code>cannot_be_merged_recheck</code>. Affects the <code>has_conflicts</code> property. For important notes on response data, see <a href="#single-merge-request-response-notes">Single merge request response notes</a>. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/3169#note_1162532204">Deprecated</a> in GitLab 15.6. Use <code>detailed_merge_status</code> instead. |
| <code>merge_when_pipeline_succeeds</code> | boolean | Indicates if the merge has been set to be merged when its pipeline succeeds. |
| <code>merged_at</code> | datetime | Timestamp of when the merge request was merged. |
| <code>merged_by</code> | object | User who merged this merge request or set it to auto-merge. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/350534">Deprecated</a> in GitLab 14.7, and scheduled for removal in <a href="https://gitlab.com/groups/gitlab-org/-/epics/8115">API version 5</a>. Use <code>merge_user</code> instead. |
| <code>milestone</code> | object | Milestone of the merge request. |
| <code>pipeline</code> | object | Pipeline running on the branch HEAD of the merge request. Consider using <code>head_pipeline</code> instead, as it contains more information. |
| <code>prepared_at</code> | datetime | Timestamp of when the merge request was prepared. This field is populated one time, only after all the <a href="#preparation-steps">preparation steps</a> are completed, and is not updated if more changes are added. |
| <code>project_id</code> | integer | ID of the merge request project. |
| <code>reference</code> | string | Internal reference of the merge request. Returned in shortened format by default. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/20354">Deprecated</a> in GitLab 12.7, and scheduled for removal in <a href="https://gitlab.com/groups/gitlab-org/-/epics/8115">API version 5</a>. Use <code>references</code> instead. |
| <code>references</code> | object | Internal references of the merge request. Includes <code>short</code>, <code>relative</code>, and <code>full</code> references. <code>references.relative</code> is relative to the merge request's group or project. When fetched from the merge request's project, <code>relative</code> and <code>short</code> formats are identical. When requested across groups or projects, <code>relative</code> and <code>full</code> formats are identical.|
| <code>reviewers</code> | array | Reviewers of the merge request. |
| <code>sha</code> | string | Diff head SHA of the merge request. |
| <code>should_remove_source_branch</code> | boolean | Indicates if the source branch of the merge request should be deleted after merge. |
| <code>source_branch</code> | string | Source branch of the merge request. |
| <code>source_project_id</code> | integer | ID of the merge request source project. |
| <code>squash</code> | boolean | Indicates if squash on merge is enabled. |
| <code>squash_commit_sha</code> | string | SHA of the squash commit. Empty until merged. |
| <code>state</code> | string | State of the merge request. Can be <code>opened</code>, <code>closed</code>, <code>merged</code> or <code>locked</code>. |
| <code>subscribed</code> | boolean | Indicates if the current authenticated user is subscribed to this merge request. |
| <code>target_branch</code> | string | Target branch of the merge request. |
| <code>target_project_id</code> | integer | ID of the merge request target project. |
| <code>task_completion_status</code> | object | Completion status of tasks. |
| <code>title</code> | string | Title of the merge request. |
| <code>updated_at</code> | datetime | Timestamp of when the merge request was updated. |
| <code>upvotes</code> | integer | Number of upvotes for the merge request. |
| <code>user</code> | object | Permissions of the user requested for the merge request. |
| <code>user_notes_count</code> | integer | User notes count of the merge request. |
| <code>web_url</code> | string | Web URL of the merge request. |
| <code>work_in_progress</code> | boolean | Deprecated: Use <code>draft</code> instead. Indicates if the merge request is a draft. |</p>
<p>Example response:</p>
<p><code>json
{
  "id": 155016530,
  "iid": 133,
  "project_id": 15513260,
  "title": "Manual job rules",
  "description": "",
  "state": "opened",
  "imported": false,
  "imported_from": "none",
  "created_at": "2022-05-13T07:26:38.402Z",
  "updated_at": "2022-05-14T03:38:31.354Z",
  "merged_by": null, // Deprecated and will be removed in API v5. Use `merge_user` instead.
  "merge_user": null,
  "merged_at": null,
  "prepared_at": "2018-09-04T11:16:17.520Z",
  "closed_by": null,
  "closed_at": null,
  "target_branch": "main",
  "source_branch": "manual-job-rules",
  "user_notes_count": 0,
  "upvotes": 0,
  "downvotes": 0,
  "author": {
    "id": 4155490,
    "username": "marcel.amirault",
    "name": "Marcel Amirault",
    "state": "active",
    "avatar_url": "https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png",
    "web_url": "https://gitlab.com/marcel.amirault"
  },
  "assignees": [],
  "assignee": null,
  "reviewers": [],
  "source_project_id": 15513260,
  "target_project_id": 15513260,
  "labels": [],
  "draft": false,
  "work_in_progress": false,
  "milestone": null,
  "merge_when_pipeline_succeeds": false,
  "merge_status": "can_be_merged",
  "detailed_merge_status": "can_be_merged",
  "sha": "e82eb4a098e32c796079ca3915e07487fc4db24c",
  "merge_commit_sha": null,
  "squash_commit_sha": null,
  "discussion_locked": null,
  "should_remove_source_branch": null,
  "force_remove_source_branch": true,
  "reference": "!133", // Deprecated. Use `references` instead.
  "references": {
    "short": "!133",
    "relative": "!133",
    "full": "marcel.amirault/test-project!133"
  },
  "web_url": "https://gitlab.com/marcel.amirault/test-project/-/merge_requests/133",
  "time_stats": {
    "time_estimate": 0,
    "total_time_spent": 0,
    "human_time_estimate": null,
    "human_total_time_spent": null
  },
  "squash": false,
  "task_completion_status": {
    "count": 0,
    "completed_count": 0
  },
  "has_conflicts": false,
  "blocking_discussions_resolved": true,
  "approvals_before_merge": null, // deprecated, use [Merge request approvals API](merge_request_approvals.md)
  "subscribed": true,
  "changes_count": "1",
  "latest_build_started_at": "2022-05-13T09:46:50.032Z",
  "latest_build_finished_at": null,
  "first_deployed_to_production_at": null,
  "pipeline": { // Use `head_pipeline` instead.
    "id": 538317940,
    "iid": 1877,
    "project_id": 15513260,
    "sha": "1604b0c46c395822e4e9478777f8e54ac99fe5b9",
    "ref": "refs/merge-requests/133/merge",
    "status": "failed",
    "source": "merge_request_event",
    "created_at": "2022-05-13T09:46:39.560Z",
    "updated_at": "2022-05-13T09:47:20.706Z",
    "web_url": "https://gitlab.com/marcel.amirault/test-project/-/pipelines/538317940"
  },
  "head_pipeline": {
    "id": 538317940,
    "iid": 1877,
    "project_id": 15513260,
    "sha": "1604b0c46c395822e4e9478777f8e54ac99fe5b9",
    "ref": "refs/merge-requests/133/merge",
    "status": "failed",
    "source": "merge_request_event",
    "created_at": "2022-05-13T09:46:39.560Z",
    "updated_at": "2022-05-13T09:47:20.706Z",
    "web_url": "https://gitlab.com/marcel.amirault/test-project/-/pipelines/538317940",
    "before_sha": "1604b0c46c395822e4e9478777f8e54ac99fe5b9",
    "tag": false,
    "yaml_errors": null,
    "user": {
      "id": 4155490,
      "username": "marcel.amirault",
      "name": "Marcel Amirault",
      "state": "active",
      "avatar_url": "https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png",
      "web_url": "https://gitlab.com/marcel.amirault"
    },
    "started_at": "2022-05-13T09:46:50.032Z",
    "finished_at": "2022-05-13T09:47:20.697Z",
    "committed_at": null,
    "duration": 30,
    "queued_duration": 10,
    "coverage": null,
    "detailed_status": {
      "icon": "status_failed",
      "text": "failed",
      "label": "failed",
      "group": "failed",
      "tooltip": "failed",
      "has_details": true,
      "details_path": "/marcel.amirault/test-project/-/pipelines/538317940",
      "illustration": null,
      "favicon": "/assets/ci_favicons/favicon_status_failed-41304d7f7e3828808b0c26771f0309e55296819a9beea3ea9fbf6689d9857c12.png"
    }
  },
  "diff_refs": {
    "base_sha": "1162f719d711319a2efb2a35566f3bfdadee8bab",
    "head_sha": "e82eb4a098e32c796079ca3915e07487fc4db24c",
    "start_sha": "1162f719d711319a2efb2a35566f3bfdadee8bab"
  },
  "merge_error": null,
  "first_contribution": false,
  "user": {
    "can_merge": true
  },
  "approvals_before_merge": { // Available for GitLab Premium and Ultimate tiers only
    "id": 1,
    "title": "test1",
    "approvals_before_merge": null
  },
}</code></p>
<h3>Single merge request response notes</h3>
<p>The mergeability (<code>merge_status</code>)
of each merge request is checked asynchronously when a request is made to this endpoint. Poll this API endpoint
to get updated status. This affects the <code>has_conflicts</code> property as it is dependent on the <code>merge_status</code>. It returns
<code>false</code> unless <code>merge_status</code> is <code>cannot_be_merged</code>.</p>
<h3>Merge status</h3>
<blockquote>
<ul>
<li>The <code>merge_status</code> field was <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/3169#note_1162532204">deprecated</a> in GitLab 15.6.</li>
<li>The <code>detailed_merge_status</code> field was <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/101724">introduced</a> in GitLab 15.6.</li>
</ul>
</blockquote>
<p>Use <code>detailed_merge_status</code> instead of <code>merge_status</code> to account for all potential statuses.</p>
<ul>
<li>The <code>detailed_merge_status</code> field can contain one of the following values related to the merge request:</li>
<li><code>blocked_status</code>: Blocked by another merge request.</li>
<li><code>checking</code>: Git is testing if a valid merge is possible.</li>
<li><code>unchecked</code>: Git has not yet tested if a valid merge is possible.</li>
<li><code>ci_must_pass</code>: A CI/CD pipeline must succeed before merge.</li>
<li><code>ci_still_running</code>: A CI/CD pipeline is still running.</li>
<li><code>discussions_not_resolved</code>: All discussions must be resolved before merge.</li>
<li><code>draft_status</code>: Can't merge because the merge request is a draft.</li>
<li><code>external_status_checks</code>: All status checks must pass before merge.</li>
<li><code>mergeable</code>: The branch can merge cleanly into the target branch.</li>
<li><code>not_approved</code>: Approval is required before merge.</li>
<li><code>not_open</code>: The merge request must be open before merge.</li>
<li><code>jira_association_missing</code>: The title or description must reference a Jira issue. To configure, see
    <a href="../integration/jira/issues.md#require-associated-jira-issue-for-merge-requests-to-be-merged">Require associated Jira issue for merge requests to be merged</a>.</li>
<li><code>need_rebase</code>: The merge request must be rebased.</li>
<li><code>conflict</code>: Conflicts exist between the source and target branches.</li>
<li><code>requested_changes</code>: The merge request has reviewers who have requested changes.</li>
</ul>
<h3>Preparation steps</h3>
<p>The <code>prepared_at</code> field is populated one time, only after all of the preparation steps
are completed. It is not updated if more changes are added to the merge request:</p>
<ul>
<li>The diff is created.</li>
<li>Pipelines are created.</li>
<li>Mergeability is checked.</li>
<li>Git LFS objects are linked.</li>
<li>Notifications are sent.</li>
</ul>
<h2>Get single merge request participants</h2>
<p>Get a list of merge request participants.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/participants</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 1,
    "name": "John Doe1",
    "username": "user1",
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/c922747a93b40d1ea88262bf1aebee62?s=80&amp;d=identicon",
    "web_url": "http://localhost/user1"
  },
  {
    "id": 2,
    "name": "John Doe2",
    "username": "user2",
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/10fc7f102be8de7657fb4d80898bbfe3?s=80&amp;d=identicon",
    "web_url": "http://localhost/user2"
  }
]</code></p>
<h2>Get single merge request reviewers</h2>
<p>Get a list of merge request reviewers.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/reviewers</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p>Example response:</p>
<p><code>json
[
  {
    "user": {
      "id": 1,
      "name": "John Doe1",
      "username": "user1",
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/c922747a93b40d1ea88262bf1aebee62?s=80&amp;d=identicon",
      "web_url": "http://localhost/user1"
    },
    "state": "unreviewed",
    "created_at": "2022-07-27T17:03:27.684Z"
  },
  {
    "user": {
      "id": 2,
      "name": "John Doe2",
      "username": "user2",
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/10fc7f102be8de7657fb4d80898bbfe3?s=80&amp;d=identicon",
      "web_url": "http://localhost/user2"
    },
    "state": "reviewed",
    "created_at": "2022-07-27T17:03:27.684Z"
  }
]</code></p>
<h2>Get single merge request commits</h2>
<p>Get a list of merge request commits.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/commits</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": "ed899a2f4b50b4370feeea94676502b42383c746",
    "short_id": "ed899a2f4b5",
    "title": "Replace sanitize with escape once",
    "author_name": "Example User",
    "author_email": "user@example.com",
    "created_at": "2012-09-20T11:50:22+03:00",
    "message": "Replace sanitize with escape once"
  },
  {
    "id": "6104942438c14ec7bd21c6cd5bd995272b3faff6",
    "short_id": "6104942438c",
    "title": "Sanitize for network graph",
    "author_name": "Example User",
    "author_email": "user@example.com",
    "created_at": "2012-09-20T09:06:12+03:00",
    "message": "Sanitize for network graph"
  }
]</code></p>
<h2>Get single merge request changes</h2>
<p>WARNING:
This endpoint was <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/322117">deprecated</a> in GitLab 15.7
and is scheduled for removal in API v5. Use the <a href="#list-merge-request-diffs">List merge request diffs</a> endpoint instead.</p>
<p>Shows information about the merge request including its files and changes.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/changes</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type           | Required | Description |
|---------------------|----------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer        | Yes      | The internal ID of the merge request. |
| <code>access_raw_diffs</code>  | boolean        | No       | Retrieve change diffs through Gitaly. |
| <code>unidiff</code>           | boolean        | No       | Present change diffs in the <a href="https://www.gnu.org/software/diffutils/manual/html_node/Detailed-Unified.html">unified diff</a> format. Default is false. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/130610">Introduced</a> in GitLab 16.5. |</p>
<p>Diffs associated with the set of changes have the same size limitations applied as other diffs
returned by the API or viewed through the UI. When these limits impact the results, the <code>overflow</code>
field contains a value of <code>true</code>. Diff data without these limits applied can be retrieved by
adding the <code>access_raw_diffs</code> parameter, accessing diffs not from the database but from Gitaly directly.
This approach is generally slower and more resource-intensive, but isn't subject to size limits
placed on database-backed diffs. <a href="../development/merge_request_concepts/diffs/index.md#diff-limits">Limits inherent to Gitaly</a>
still apply.</p>
<p>Example response:</p>
<p><code>json
{
  "id": 21,
  "iid": 1,
  "project_id": 4,
  "title": "Blanditiis beatae suscipit hic assumenda et molestias nisi asperiores repellat et.",
  "state": "reopened",
  "created_at": "2015-02-02T19:49:39.159Z",
  "updated_at": "2015-02-02T20:08:49.959Z",
  "target_branch": "secret_token",
  "source_branch": "version-1-9",
  "upvotes": 0,
  "downvotes": 0,
  "author": {
    "name": "Chad Hamill",
    "username": "jarrett",
    "id": 5,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/b95567800f828948baf5f4160ebb2473?s=40&amp;d=identicon",
    "web_url" : "https://gitlab.example.com/jarrett"
  },
  "assignee": {
    "name": "Administrator",
    "username": "root",
    "id": 1,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=40&amp;d=identicon",
    "web_url" : "https://gitlab.example.com/root"
  },
  "assignees": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "reviewers": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "source_project_id": 4,
  "target_project_id": 4,
  "labels": [ ],
  "description": "Qui voluptatibus placeat ipsa alias quasi. Deleniti rem ut sint. Optio velit qui distinctio.",
  "draft": false,
  "work_in_progress": false,
  "milestone": {
    "id": 5,
    "iid": 1,
    "project_id": 4,
    "title": "v2.0",
    "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
    "state": "closed",
    "created_at": "2015-02-02T19:49:26.013Z",
    "updated_at": "2015-02-02T19:49:26.013Z",
    "due_date": null
  },
  "merge_when_pipeline_succeeds": true,
  "merge_status": "can_be_merged",
  "detailed_merge_status": "can_be_merged",
  "subscribed" : true,
  "sha": "8888888888888888888888888888888888888888",
  "merge_commit_sha": null,
  "squash_commit_sha": null,
  "user_notes_count": 1,
  "changes_count": "1",
  "should_remove_source_branch": true,
  "force_remove_source_branch": false,
  "squash": false,
  "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
  "references": {
    "short": "!1",
    "relative": "!1",
    "full": "my-group/my-project!1"
  },
  "discussion_locked": false,
  "time_stats": {
    "time_estimate": 0,
    "total_time_spent": 0,
    "human_time_estimate": null,
    "human_total_time_spent": null
  },
  "task_completion_status":{
    "count":0,
    "completed_count":0
  },
  "changes": [
    {
    "old_path": "VERSION",
    "new_path": "VERSION",
    "a_mode": "100644",
    "b_mode": "100644",
    "diff": "@@ -1 +1 @@\ -1.9.7\ +1.9.8",
    "new_file": false,
    "renamed_file": false,
    "deleted_file": false
    }
  ],
  "overflow": false
}</code></p>
<h2>List merge request diffs</h2>
<blockquote>
<ul>
<li><code>generated_file</code> was <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/141576">introduced</a> in GitLab 16.9 <a href="../administration/feature_flags.md">with a flag</a> named <code>collapse_generated_diff_files</code>. Disabled by default.</li>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/432670">Enabled on GitLab.com and self-managed</a> in GitLab 16.10.</li>
<li><code>generated_file</code> <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/148478">generally available</a> in GitLab 16.11. Feature flag <code>collapse_generated_diff_files</code> removed.</li>
</ul>
</blockquote>
<p>List diffs of the files changed in a merge request.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/diffs</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |
| <code>page</code>              | integer           | No       | The page of results to return. Defaults to 1. |
| <code>per_page</code>          | integer           | No       | The number of results per page. Defaults to 20. |
| <code>unidiff</code>           | boolean           | No       | Present diffs in the <a href="https://www.gnu.org/software/diffutils/manual/html_node/Detailed-Unified.html">unified diff</a> format. Default is false. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/130610">Introduced</a> in GitLab 16.5. |</p>
<p>If successful, returns <a href="rest/index.md#status-codes"><code>200 OK</code></a> and the
following response attributes:</p>
<p>| Attribute      | Type    | Description |
|----------------|---------|-------------|
| <code>old_path</code>     | string  | Old path of the file. |
| <code>new_path</code>     | string  | New path of the file. |
| <code>a_mode</code>       | string  | Old file mode of the file. |
| <code>b_mode</code>       | string  | New file mode of the file. |
| <code>diff</code>         | string  | Diff representation of the changes made to the file. |
| <code>new_file</code>     | boolean | Indicates if the file has just been added. |
| <code>renamed_file</code> | boolean | Indicates if the file has been renamed. |
| <code>deleted_file</code> | boolean | Indicates if the file has been removed. |
| <code>generated_file</code> | boolean | Indicates if the file is <a href="../user/project/merge_requests/changes.md#collapse-generated-files">marked as generated</a>. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/141576">Introduced</a> in GitLab 16.9. |</p>
<p>Example request:</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/1/merge_requests/1/diffs?page=1&amp;per_page=2"</code></p>
<p>Example response:</p>
<p><code>json
[
  {
    "old_path": "README",
    "new_path": "README",
    "a_mode": "100644",
    "b_mode": "100644",
    "diff": "@@ -1 +1 @@\ -Title\ +README",
    "new_file": false,
    "renamed_file": false,
    "deleted_file": false,
    "generated_file": false
  },
  {
    "old_path": "VERSION",
    "new_path": "VERSION",
    "a_mode": "100644",
    "b_mode": "100644",
    "diff": "@@\ -1.9.7\ +1.9.8",
    "new_file": false,
    "renamed_file": false,
    "deleted_file": false,
    "generated_file": false
  }
]</code></p>
<p>NOTE:
This endpoint is subject to <a href="../administration/instance_limits.md#diff-limits">Merge requests diff limits</a>.
Merge requests that exceed the diff limits return limited results.</p>
<h2>List merge request pipelines</h2>
<p>Get a list of merge request pipelines.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/pipelines</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p>The pagination parameters <code>page</code> and
<code>per_page</code> can be used to restrict the list of merge request pipelines.</p>
<p>Example response:</p>
<p><code>json
[
  {
    "id": 77,
    "sha": "959e04d7c7a30600c894bd3c0cd0e1ce7f42c11d",
    "ref": "main",
    "status": "success"
  }
]</code></p>
<h2>Create merge request pipeline</h2>
<p>Create a new <a href="../ci/pipelines/merge_request_pipelines.md">pipeline for a merge request</a>.
A pipeline created from this endpoint doesn't run a regular branch/tag pipeline.
It requires <code>.gitlab-ci.yml</code> to be configured with <code>only: [merge_requests]</code> to create jobs.</p>
<p>The new pipeline can be:</p>
<ul>
<li>A detached merge request pipeline.</li>
<li>A <a href="../ci/pipelines/merged_results_pipelines.md">merged results pipeline</a>
  if the <a href="../ci/pipelines/merged_results_pipelines.md#enable-merged-results-pipelines">project setting is enabled</a>.</li>
</ul>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/pipelines</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p>Example response:</p>
<p><code>json
{
  "id": 2,
  "sha": "b83d6e391c22777fca1ed3012fce84f633d7fed0",
  "ref": "refs/merge-requests/1/head",
  "status": "pending",
  "web_url": "http://localhost/user1/project1/pipelines/2",
  "before_sha": "0000000000000000000000000000000000000000",
  "tag": false,
  "yaml_errors": null,
  "user": {
    "id": 1,
    "name": "John Doe1",
    "username": "user1",
    "state": "active",
    "avatar_url": "https://www.gravatar.com/avatar/c922747a93b40d1ea88262bf1aebee62?s=80&amp;d=identicon",
    "web_url": "http://example.com"
  },
  "created_at": "2019-09-04T19:20:18.267Z",
  "updated_at": "2019-09-04T19:20:18.459Z",
  "started_at": null,
  "finished_at": null,
  "committed_at": null,
  "duration": null,
  "coverage": null,
  "detailed_status": {
    "icon": "status_pending",
    "text": "pending",
    "label": "pending",
    "group": "pending",
    "tooltip": "pending",
    "has_details": false,
    "details_path": "/user1/project1/pipelines/2",
    "illustration": null,
    "favicon": "/assets/ci_favicons/favicon_status_pending-5bdf338420e5221ca24353b6bff1c9367189588750632e9a871b7af09ff6a2ae.png"
  }
}</code></p>
<h2>Create MR</h2>
<p>Creates a new merge request.</p>
<p><code>plaintext
POST /projects/:id/merge_requests</code></p>
<p>| Attribute                  | Type    | Required | Description |
| ---------                  | ----    | -------- | ----------- |
| <code>id</code>                       | integer or string | Yes | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user |
| <code>source_branch</code>            | string  | Yes      | The source branch. |
| <code>target_branch</code>            | string  | Yes      | The target branch. |
| <code>title</code>                    | string  | Yes      | Title of MR. |
| <code>allow_collaboration</code>      | boolean | No       | Allow commits from members who can merge to the target branch. |
| <code>approvals_before_merge</code>   | integer | No | Number of approvals required before this can be merged (see below). To configure approval rules, see <a href="merge_request_approvals.md">Merge request approvals API</a>. <a href="https://gitlab.com/gitlab-org/gitlab/-/issues/353097">Deprecated</a> in GitLab 16.0. Premium and Ultimate only. |
| <code>allow_maintainer_to_push</code> | boolean | No       | Alias of <code>allow_collaboration</code>. |
| <code>assignee_id</code>              | integer | No       | Assignee user ID. |
| <code>assignee_ids</code>             | integer array | No | The ID of the users to assign the merge request to. Set to <code>0</code> or provide an empty value to unassign all assignees. |
| <code>description</code>              | string  | No       | Description of the merge request. Limited to 1,048,576 characters. |
| <code>labels</code>                   | string  | No       | Labels for the merge request, as a comma-separated list. If a label does not already exist, this creates a new project label and assigns it to the merge request. |
| <code>milestone_id</code>             | integer | No       | The global ID of a milestone. |
| <code>remove_source_branch</code>     | boolean | No       | Flag indicating if a merge request should remove the source branch when merging. |
| <code>reviewer_ids</code>             | integer array | No | The ID of the users added as a reviewer to the merge request. If set to <code>0</code> or left empty, no reviewers are added. |
| <code>squash</code>                   | boolean | No       | Indicates if the merge request is set to be squashed when merged. <a href="../user/project/merge_requests/squash_and_merge.md#configure-squash-options-for-a-project">Project settings</a> might override this value. |
| <code>target_project_id</code>        | integer | No       | Numeric ID of the target project. |</p>
<p>Example response:</p>
<p><code>json
{
  "id": 1,
  "iid": 1,
  "project_id": 3,
  "title": "test1",
  "description": "fixed login page css paddings",
  "state": "merged",
  "imported": false,
  "imported_from": "none",
  "created_at": "2017-04-29T08:46:00Z",
  "updated_at": "2017-04-29T08:46:00Z",
  "target_branch": "main",
  "source_branch": "test1",
  "upvotes": 0,
  "downvotes": 0,
  "author": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignee": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "source_project_id": 2,
  "target_project_id": 3,
  "labels": [
    "Community contribution",
    "Manage"
  ],
  "draft": false,
  "work_in_progress": false,
  "milestone": {
    "id": 5,
    "iid": 1,
    "project_id": 3,
    "title": "v2.0",
    "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
    "state": "closed",
    "created_at": "2015-02-02T19:49:26.013Z",
    "updated_at": "2015-02-02T19:49:26.013Z",
    "due_date": "2018-09-22",
    "start_date": "2018-08-08",
    "web_url": "https://gitlab.example.com/my-group/my-project/milestones/1"
  },
  "merge_when_pipeline_succeeds": true,
  "merge_status": "can_be_merged",
  "detailed_merge_status": "not_open",
  "merge_error": null,
  "sha": "8888888888888888888888888888888888888888",
  "merge_commit_sha": null,
  "squash_commit_sha": null,
  "user_notes_count": 1,
  "discussion_locked": null,
  "should_remove_source_branch": true,
  "force_remove_source_branch": false,
  "allow_collaboration": false,
  "allow_maintainer_to_push": false,
  "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
  "references": {
    "short": "!1",
    "relative": "!1",
    "full": "my-group/my-project!1"
  },
  "time_stats": {
    "time_estimate": 0,
    "total_time_spent": 0,
    "human_time_estimate": null,
    "human_total_time_spent": null
  },
  "squash": false,
  "subscribed": false,
  "changes_count": "1",
  "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merge_user": {
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merged_at": "2018-09-07T11:16:17.520Z",
  "prepared_at": "2018-09-04T11:16:17.520Z",
  "closed_by": null,
  "closed_at": null,
  "latest_build_started_at": "2018-09-07T07:27:38.472Z",
  "latest_build_finished_at": "2018-09-07T08:07:06.012Z",
  "first_deployed_to_production_at": null,
  "pipeline": {
    "id": 29626725,
    "sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "ref": "patch-28",
    "status": "success",
    "web_url": "https://gitlab.example.com/my-group/my-project/pipelines/29626725"
  },
  "diff_refs": {
    "base_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00",
    "head_sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "start_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00"
  },
  "diverged_commits_count": 2,
  "task_completion_status":{
    "count":0,
    "completed_count":0
  }
}</code></p>
<p>For important notes on response data, see <a href="#single-merge-request-response-notes">Single merge request response notes</a>.</p>
<h2>Update MR</h2>
<p>Updates an existing merge request. You can change the target branch, title, or even close the MR.</p>
<p><code>plaintext
PUT /projects/:id/merge_requests/:merge_request_iid</code></p>
<p>| Attribute                  | Type    | Required | Description |
| ---------                  | ----    | -------- | ----------- |
| <code>id</code>                       | integer or string | Yes  | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code>        | integer | Yes      | The ID of a merge request. |
| <code>add_labels</code>               | string  | No       | Comma-separated label names to add to a merge request. If a label does not already exist, this creates a new project label and assigns it to the merge request. |
| <code>allow_collaboration</code>      | boolean | No       | Allow commits from members who can merge to the target branch. |
| <code>allow_maintainer_to_push</code> | boolean | No       | Alias of <code>allow_collaboration</code>. |
| <code>assignee_id</code>              | integer | No       | The ID of the user to assign the merge request to. Set to <code>0</code> or provide an empty value to unassign all assignees. |
| <code>assignee_ids</code>             | integer array | No | The ID of the users to assign the merge request to. Set to <code>0</code> or provide an empty value to unassign all assignees. |
| <code>description</code>              | string  | No       | Description of the merge request. Limited to 1,048,576 characters. |
| <code>discussion_locked</code>        | boolean | No       | Flag indicating if the merge request's discussion is locked. If the discussion is locked only project members can add, edit or resolve comments. |
| <code>labels</code>                   | string  | No       | Comma-separated label names for a merge request. Set to an empty string to unassign all labels. If a label does not already exist, this creates a new project label and assigns it to the merge request. |
| <code>milestone_id</code>             | integer | No       | The global ID of a milestone to assign the merge request to. Set to <code>0</code> or provide an empty value to unassign a milestone.|
| <code>remove_labels</code>            | string  | No       | Comma-separated label names to remove from a merge request. |
| <code>remove_source_branch</code>     | boolean | No       | Flag indicating if a merge request should remove the source branch when merging. |
| <code>reviewer_ids</code>             | integer array | No | The ID of the users set as a reviewer to the merge request. Set the value to <code>0</code> or provide an empty value to unset all reviewers. |
| <code>squash</code>                   | boolean | No       | Indicates if the merge request is set to be squashed when merged. <a href="../user/project/merge_requests/squash_and_merge.md#configure-squash-options-for-a-project">Project settings</a> may override this value. |
| <code>state_event</code>              | string  | No       | New state (close/reopen). |
| <code>target_branch</code>            | string  | No       | The target branch. |
| <code>title</code>                    | string  | No       | Title of MR. |</p>
<p>Must include at least one non-required attribute from above.</p>
<p>Example response:</p>
<p><code>json
{
  "id": 1,
  "iid": 1,
  "project_id": 3,
  "title": "test1",
  "description": "fixed login page css paddings",
  "state": "merged",
  "created_at": "2017-04-29T08:46:00Z",
  "updated_at": "2017-04-29T08:46:00Z",
  "target_branch": "main",
  "source_branch": "test1",
  "upvotes": 0,
  "downvotes": 0,
  "author": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignee": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignees": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "reviewers": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "source_project_id": 2,
  "target_project_id": 3,
  "labels": [
    "Community contribution",
    "Manage"
  ],
  "draft": false,
  "work_in_progress": false,
  "milestone": {
    "id": 5,
    "iid": 1,
    "project_id": 3,
    "title": "v2.0",
    "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
    "state": "closed",
    "created_at": "2015-02-02T19:49:26.013Z",
    "updated_at": "2015-02-02T19:49:26.013Z",
    "due_date": "2018-09-22",
    "start_date": "2018-08-08",
    "web_url": "https://gitlab.example.com/my-group/my-project/milestones/1"
  },
  "merge_when_pipeline_succeeds": true,
  "merge_status": "can_be_merged",
  "detailed_merge_status": "not_open",
  "merge_error": null,
  "sha": "8888888888888888888888888888888888888888",
  "merge_commit_sha": null,
  "squash_commit_sha": null,
  "user_notes_count": 1,
  "discussion_locked": null,
  "should_remove_source_branch": true,
  "force_remove_source_branch": false,
  "allow_collaboration": false,
  "allow_maintainer_to_push": false,
  "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
  "references": {
    "short": "!1",
    "relative": "!1",
    "full": "my-group/my-project!1"
  },
  "time_stats": {
    "time_estimate": 0,
    "total_time_spent": 0,
    "human_time_estimate": null,
    "human_total_time_spent": null
  },
  "squash": false,
  "subscribed": false,
  "changes_count": "1",
  "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merge_user": {
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merged_at": "2018-09-07T11:16:17.520Z",
  "prepared_at": "2018-09-04T11:16:17.520Z",
  "closed_by": null,
  "closed_at": null,
  "latest_build_started_at": "2018-09-07T07:27:38.472Z",
  "latest_build_finished_at": "2018-09-07T08:07:06.012Z",
  "first_deployed_to_production_at": null,
  "pipeline": {
    "id": 29626725,
    "sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "ref": "patch-28",
    "status": "success",
    "web_url": "https://gitlab.example.com/my-group/my-project/pipelines/29626725"
  },
  "diff_refs": {
    "base_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00",
    "head_sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "start_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00"
  },
  "diverged_commits_count": 2,
  "task_completion_status":{
    "count":0,
    "completed_count":0
  }
}</code></p>
<p>For important notes on response data, see <a href="#single-merge-request-response-notes">Single merge request response notes</a>.</p>
<h2>Delete a merge request</h2>
<p>Only for administrators and project owners. Deletes the merge request in question.</p>
<p><code>plaintext
DELETE /projects/:id/merge_requests/:merge_request_iid</code></p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p><code>shell
curl --request DELETE \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/4/merge_requests/85"</code></p>
<h2>Merge a merge request</h2>
<p>Accept and merge changes submitted with merge request using this API.</p>
<p><code>plaintext
PUT /projects/:id/merge_requests/:merge_request_iid/merge</code></p>
<p>Supported attributes:</p>
<p>| Attribute                      | Type           | Required | Description |
|--------------------------------|----------------|----------|-------------|
| <code>id</code>                           | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code>            | integer        | Yes      | The internal ID of the merge request. |
| <code>merge_commit_message</code>         | string         | No       | Custom merge commit message. |
| <code>merge_when_pipeline_succeeds</code> | boolean        | No       | If <code>true</code>, the merge request is merged when the pipeline succeeds. |
| <code>sha</code>                          | string         | No       | If present, then this SHA must match the HEAD of the source branch, otherwise the merge fails. |
| <code>should_remove_source_branch</code>  | boolean        | No       | If <code>true</code>, removes the source branch. |
| <code>squash_commit_message</code>        | string         | No       | Custom squash commit message. |
| <code>squash</code>                       | boolean        | No       | If <code>true</code>, the commits are squashed into a single commit on merge. |</p>
<p>This API returns specific HTTP status codes on failure:</p>
<p>| HTTP Status | Message                                    | Reason |
|-------------|--------------------------------------------|--------|
| <code>401</code>       | <code>401 Unauthorized</code>                             | This user does not have permission to accept this merge request. |
| <code>405</code>       | <code>405 Method Not Allowed</code>                       | The merge request is not able to be merged. |
| <code>409</code>       | <code>SHA does not match HEAD of source branch</code> | The provided <code>sha</code> parameter does not match the HEAD of the source. |
| <code>422</code>       | <code>Branch cannot be merged</code>                  | The merge request failed to merge. |</p>
<p>For additional important notes on response data, see <a href="#single-merge-request-response-notes">Single merge request response notes</a>.</p>
<p>Example response:</p>
<p><code>json
{
  "id": 1,
  "iid": 1,
  "project_id": 3,
  "title": "test1",
  "description": "fixed login page css paddings",
  "state": "merged",
  "created_at": "2017-04-29T08:46:00Z",
  "updated_at": "2017-04-29T08:46:00Z",
  "target_branch": "main",
  "source_branch": "test1",
  "upvotes": 0,
  "downvotes": 0,
  "author": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignee": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignees": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "reviewers": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "source_project_id": 2,
  "target_project_id": 3,
  "labels": [
    "Community contribution",
    "Manage"
  ],
  "draft": false,
  "work_in_progress": false,
  "milestone": {
    "id": 5,
    "iid": 1,
    "project_id": 3,
    "title": "v2.0",
    "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
    "state": "closed",
    "created_at": "2015-02-02T19:49:26.013Z",
    "updated_at": "2015-02-02T19:49:26.013Z",
    "due_date": "2018-09-22",
    "start_date": "2018-08-08",
    "web_url": "https://gitlab.example.com/my-group/my-project/milestones/1"
  },
  "merge_when_pipeline_succeeds": true,
  "merge_status": "can_be_merged",
  "detailed_merge_status": "not_open",
  "merge_error": null,
  "sha": "8888888888888888888888888888888888888888",
  "merge_commit_sha": null,
  "squash_commit_sha": null,
  "user_notes_count": 1,
  "discussion_locked": null,
  "should_remove_source_branch": true,
  "force_remove_source_branch": false,
  "allow_collaboration": false,
  "allow_maintainer_to_push": false,
  "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
  "references": {
    "short": "!1",
    "relative": "!1",
    "full": "my-group/my-project!1"
  },
  "time_stats": {
    "time_estimate": 0,
    "total_time_spent": 0,
    "human_time_estimate": null,
    "human_total_time_spent": null
  },
  "squash": false,
  "subscribed": false,
  "changes_count": "1",
  "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merge_user": {
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merged_at": "2018-09-07T11:16:17.520Z",
  "prepared_at": "2018-09-04T11:16:17.520Z",
  "closed_by": null,
  "closed_at": null,
  "latest_build_started_at": "2018-09-07T07:27:38.472Z",
  "latest_build_finished_at": "2018-09-07T08:07:06.012Z",
  "first_deployed_to_production_at": null,
  "pipeline": {
    "id": 29626725,
    "sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "ref": "patch-28",
    "status": "success",
    "web_url": "https://gitlab.example.com/my-group/my-project/pipelines/29626725"
  },
  "diff_refs": {
    "base_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00",
    "head_sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "start_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00"
  },
  "diverged_commits_count": 2,
  "task_completion_status":{
    "count":0,
    "completed_count":0
  }
}</code></p>
<h2>Merge to default merge ref path</h2>
<p>Merge the changes between the merge request source and target branches into <code>refs/merge-requests/:iid/merge</code>
ref, of the target project repository, if possible. This ref has the state the target branch would have if
a regular merge action was taken.</p>
<p>This action isn't a regular merge action, because it doesn't change the merge request target branch state in any manner.</p>
<p>This ref (<code>refs/merge-requests/:iid/merge</code>) isn't necessarily overwritten when submitting
requests to this API, though it makes sure the ref has the latest possible state.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/merge_ref</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p>This API returns specific HTTP status codes:</p>
<p>| HTTP Status | Message                          | Reason |
|-------------|----------------------------------|--------|
| <code>200</code>       | <em>(none)</em>                         | Success. Returns the HEAD commit of <code>refs/merge-requests/:iid/merge</code>. |
| <code>400</code>       | <code>Merge request is not mergeable</code> | The merge request has conflicts. |
| <code>400</code>       | <code>Merge ref cannot be updated</code>    |        |
| <code>400</code>       | <code>Unsupported operation</code>          | The GitLab database is in read-only mode. |</p>
<p>Example response:</p>
<p><code>json
{
  "commit_id": "854a3a7a17acbcc0bbbea170986df1eb60435f34"
}</code></p>
<h2>Cancel merge when pipeline succeeds</h2>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/cancel_merge_when_pipeline_succeeds</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p>This API returns specific HTTP status codes:</p>
<p>| HTTP Status | Message  | Reason |
|-------------|----------|--------|
| <code>201</code>       | <em>(none)</em> | Success, or the merge request has already merged. |
| <code>406</code>       | <code>Can't cancel the automatic merge</code> | The merge request is closed. |</p>
<p>For important notes on response data, see <a href="#single-merge-request-response-notes">Single merge request response notes</a>.</p>
<p>Example response:</p>
<p><code>json
{
  "id": 1,
  "iid": 1,
  "project_id": 3,
  "title": "test1",
  "description": "fixed login page css paddings",
  "state": "merged",
  "created_at": "2017-04-29T08:46:00Z",
  "updated_at": "2017-04-29T08:46:00Z",
  "target_branch": "main",
  "source_branch": "test1",
  "upvotes": 0,
  "downvotes": 0,
  "author": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignee": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignees": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "reviewers": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "source_project_id": 2,
  "target_project_id": 3,
  "labels": [
    "Community contribution",
    "Manage"
  ],
  "draft": false,
  "work_in_progress": false,
  "milestone": {
    "id": 5,
    "iid": 1,
    "project_id": 3,
    "title": "v2.0",
    "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
    "state": "closed",
    "created_at": "2015-02-02T19:49:26.013Z",
    "updated_at": "2015-02-02T19:49:26.013Z",
    "due_date": "2018-09-22",
    "start_date": "2018-08-08",
    "web_url": "https://gitlab.example.com/my-group/my-project/milestones/1"
  },
  "merge_when_pipeline_succeeds": false,
  "merge_status": "can_be_merged",
  "detailed_merge_status": "not_open",
  "merge_error": null,
  "sha": "8888888888888888888888888888888888888888",
  "merge_commit_sha": null,
  "squash_commit_sha": null,
  "user_notes_count": 1,
  "discussion_locked": null,
  "should_remove_source_branch": true,
  "force_remove_source_branch": false,
  "allow_collaboration": false,
  "allow_maintainer_to_push": false,
  "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
  "references": {
    "short": "!1",
    "relative": "!1",
    "full": "my-group/my-project!1"
  },
  "time_stats": {
    "time_estimate": 0,
    "total_time_spent": 0,
    "human_time_estimate": null,
    "human_total_time_spent": null
  },
  "squash": false,
  "subscribed": false,
  "changes_count": "1",
  "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merge_user": {
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merged_at": "2018-09-07T11:16:17.520Z",
  "prepared_at": "2018-09-04T11:16:17.520Z",
  "closed_by": null,
  "closed_at": null,
  "latest_build_started_at": "2018-09-07T07:27:38.472Z",
  "latest_build_finished_at": "2018-09-07T08:07:06.012Z",
  "first_deployed_to_production_at": null,
  "pipeline": {
    "id": 29626725,
    "sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "ref": "patch-28",
    "status": "success",
    "web_url": "https://gitlab.example.com/my-group/my-project/pipelines/29626725"
  },
  "diff_refs": {
    "base_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00",
    "head_sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "start_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00"
  },
  "diverged_commits_count": 2,
  "task_completion_status":{
    "count":0,
    "completed_count":0
  }
}</code></p>
<h2>Rebase a merge request</h2>
<p>Automatically rebase the <code>source_branch</code> of the merge request against its
<code>target_branch</code>.</p>
<p><code>plaintext
PUT /projects/:id/merge_requests/:merge_request_iid/rebase</code></p>
<p>| Attribute           | Type           | Required | Description |
|---------------------|----------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer        | Yes      | The internal ID of the merge request. |
| <code>skip_ci</code>           | boolean        | No       | Set to <code>true</code> to skip creating a CI pipeline. |</p>
<p><code>shell
curl --request PUT \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/76/merge_requests/1/rebase"</code></p>
<p>This API returns specific HTTP status codes:</p>
<p>| HTTP Status | Message                                    | Reason |
|-------------|--------------------------------------------|--------|
| <code>202</code>       | <em>(no message)</em> | Successfully enqueued. |
| <code>403</code>       | <code>Cannot push to source branch</code> | You don't have permission to push to the merge request's source branch. |
| <code>403</code>       | <code>Source branch does not exist</code> | You don't have permission to push to the merge request's source branch. |
| <code>403</code>       | <code>Source branch is protected from force push</code> | You don't have permission to push to the merge request's source branch. |
| <code>409</code>       | <code>Failed to enqueue the rebase operation</code> | A long-lived transaction might have blocked your request. |</p>
<p>If the request is enqueued successfully, the response contains:</p>
<p><code>json
{
  "rebase_in_progress": true
}</code></p>
<p>You can poll the <a href="#get-single-mr">Get single MR</a> endpoint with the
<code>include_rebase_in_progress</code> parameter to check the status of the
asynchronous request.</p>
<p>If the rebase operation is ongoing, the response includes the following:</p>
<p><code>json
{
  "rebase_in_progress": true,
  "merge_error": null
}</code></p>
<p>After the rebase operation has completed successfully, the response includes
the following:</p>
<p><code>json
{
  "rebase_in_progress": false,
  "merge_error": null
}</code></p>
<p>If the rebase operation fails, the response includes the following:</p>
<p><code>json
{
  "rebase_in_progress": false,
  "merge_error": "Rebase failed. Please rebase locally"
}</code></p>
<h2>Comments on merge requests</h2>
<p>Comments are created by the <a href="notes.md">notes</a> resource.</p>
<h2>List issues that close on merge</h2>
<p>Get all the issues that would be closed by merging the provided merge request.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/closes_issues</code></p>
<p>| Attribute           | Type           | Required | Description |
|---------------------|----------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer        | Yes      | The internal ID of the merge request. |</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/76/merge_requests/1/closes_issues"</code></p>
<p>Example response when the GitLab issue tracker is used:</p>
<p><code>json
[
   {
      "state" : "opened",
      "description" : "Ratione dolores corrupti mollitia soluta quia.",
      "author" : {
         "state" : "active",
         "id" : 18,
         "web_url" : "https://gitlab.example.com/eileen.lowe",
         "name" : "Alexandra Bashirian",
         "avatar_url" : null,
         "username" : "eileen.lowe"
      },
      "milestone" : {
         "project_id" : 1,
         "description" : "Ducimus nam enim ex consequatur cumque ratione.",
         "state" : "closed",
         "due_date" : null,
         "iid" : 2,
         "created_at" : "2016-01-04T15:31:39.996Z",
         "title" : "v4.0",
         "id" : 17,
         "updated_at" : "2016-01-04T15:31:39.996Z"
      },
      "project_id" : 1,
      "assignee" : {
         "state" : "active",
         "id" : 1,
         "name" : "Administrator",
         "web_url" : "https://gitlab.example.com/root",
         "avatar_url" : null,
         "username" : "root"
      },
      "updated_at" : "2016-01-04T15:31:51.081Z",
      "id" : 76,
      "title" : "Consequatur vero maxime deserunt laboriosam est voluptas dolorem.",
      "created_at" : "2016-01-04T15:31:51.081Z",
      "iid" : 6,
      "labels" : [],
      "user_notes_count": 1,
      "changes_count": "1"
   }
]</code></p>
<p>Example response when an external issue tracker (for example, Jira) is used:</p>
<p><code>json
[
   {
       "id" : "PROJECT-123",
       "title" : "Title of this issue"
   }
]</code></p>
<h2>Subscribe to a merge request</h2>
<p>Subscribes the authenticated user to a merge request to receive notification.</p>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/subscribe</code></p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p>If the user is already subscribed to the merge request, the
status code <code>HTTP 304 Not Modified</code> is returned.</p>
<p><code>shell
curl --request POST \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/5/merge_requests/17/subscribe"</code></p>
<p>Example response:</p>
<p><code>json
{
  "id": 1,
  "iid": 1,
  "project_id": 3,
  "title": "test1",
  "description": "fixed login page css paddings",
  "state": "merged",
  "created_at": "2017-04-29T08:46:00Z",
  "updated_at": "2017-04-29T08:46:00Z",
  "target_branch": "main",
  "source_branch": "test1",
  "upvotes": 0,
  "downvotes": 0,
  "author": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignee": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignees": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "reviewers": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "source_project_id": 2,
  "target_project_id": 3,
  "labels": [
    "Community contribution",
    "Manage"
  ],
  "draft": false,
  "work_in_progress": false,
  "milestone": {
    "id": 5,
    "iid": 1,
    "project_id": 3,
    "title": "v2.0",
    "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
    "state": "closed",
    "created_at": "2015-02-02T19:49:26.013Z",
    "updated_at": "2015-02-02T19:49:26.013Z",
    "due_date": "2018-09-22",
    "start_date": "2018-08-08",
    "web_url": "https://gitlab.example.com/my-group/my-project/milestones/1"
  },
  "merge_when_pipeline_succeeds": true,
  "merge_status": "can_be_merged",
  "detailed_merge_status": "not_open",
  "sha": "8888888888888888888888888888888888888888",
  "merge_commit_sha": null,
  "squash_commit_sha": null,
  "user_notes_count": 1,
  "discussion_locked": null,
  "should_remove_source_branch": true,
  "force_remove_source_branch": false,
  "allow_collaboration": false,
  "allow_maintainer_to_push": false,
  "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
  "references": {
    "short": "!1",
    "relative": "!1",
    "full": "my-group/my-project!1"
  },
  "time_stats": {
    "time_estimate": 0,
    "total_time_spent": 0,
    "human_time_estimate": null,
    "human_total_time_spent": null
  },
  "squash": false,
  "subscribed": false,
  "changes_count": "1",
  "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merge_user": {
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merged_at": "2018-09-07T11:16:17.520Z",
  "prepared_at": "2018-09-04T11:16:17.520Z",
  "closed_by": null,
  "closed_at": null,
  "latest_build_started_at": "2018-09-07T07:27:38.472Z",
  "latest_build_finished_at": "2018-09-07T08:07:06.012Z",
  "first_deployed_to_production_at": null,
  "pipeline": {
    "id": 29626725,
    "sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "ref": "patch-28",
    "status": "success",
    "web_url": "https://gitlab.example.com/my-group/my-project/pipelines/29626725"
  },
  "diff_refs": {
    "base_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00",
    "head_sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "start_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00"
  },
  "diverged_commits_count": 2,
  "task_completion_status":{
    "count":0,
    "completed_count":0
  }
}</code></p>
<p>For important notes on response data, see <a href="#single-merge-request-response-notes">Single merge request response notes</a>.</p>
<h2>Unsubscribe from a merge request</h2>
<p>Unsubscribes the authenticated user from a merge request to not receive
notifications from that merge request.</p>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/unsubscribe</code></p>
<p>| Attribute           | Type           | Required | Description |
|---------------------|----------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer        | Yes      | The internal ID of the merge request. |</p>
<p><code>shell
curl --request POST \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/5/merge_requests/17/unsubscribe"</code></p>
<p>If the user is not subscribed to the merge request, the status code <code>HTTP 304 Not Modified</code> is returned.</p>
<p>Example response:</p>
<p><code>json
{
  "id": 1,
  "iid": 1,
  "project_id": 3,
  "title": "test1",
  "description": "fixed login page css paddings",
  "state": "merged",
  "created_at": "2017-04-29T08:46:00Z",
  "updated_at": "2017-04-29T08:46:00Z",
  "target_branch": "main",
  "source_branch": "test1",
  "upvotes": 0,
  "downvotes": 0,
  "author": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignee": {
    "id": 1,
    "name": "Administrator",
    "username": "admin",
    "state": "active",
    "avatar_url": null,
    "web_url" : "https://gitlab.example.com/admin"
  },
  "assignees": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "reviewers": [{
    "name": "Miss Monserrate Beier",
    "username": "axel.block",
    "id": 12,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/axel.block"
  }],
  "source_project_id": 2,
  "target_project_id": 3,
  "labels": [
    "Community contribution",
    "Manage"
  ],
  "draft": false,
  "work_in_progress": false,
  "milestone": {
    "id": 5,
    "iid": 1,
    "project_id": 3,
    "title": "v2.0",
    "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.",
    "state": "closed",
    "created_at": "2015-02-02T19:49:26.013Z",
    "updated_at": "2015-02-02T19:49:26.013Z",
    "due_date": "2018-09-22",
    "start_date": "2018-08-08",
    "web_url": "https://gitlab.example.com/my-group/my-project/milestones/1"
  },
  "merge_when_pipeline_succeeds": true,
  "merge_status": "can_be_merged",
  "detailed_merge_status": "not_open",
  "sha": "8888888888888888888888888888888888888888",
  "merge_commit_sha": null,
  "squash_commit_sha": null,
  "user_notes_count": 1,
  "discussion_locked": null,
  "should_remove_source_branch": true,
  "force_remove_source_branch": false,
  "allow_collaboration": false,
  "allow_maintainer_to_push": false,
  "web_url": "http://gitlab.example.com/my-group/my-project/merge_requests/1",
  "references": {
    "short": "!1",
    "relative": "!1",
    "full": "my-group/my-project!1"
  },
  "time_stats": {
    "time_estimate": 0,
    "total_time_spent": 0,
    "human_time_estimate": null,
    "human_total_time_spent": null
  },
  "squash": false,
  "subscribed": false,
  "changes_count": "1",
  "merged_by": { // Deprecated and will be removed in API v5, use `merge_user` instead
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merge_user": {
    "id": 87854,
    "name": "Douwe Maan",
    "username": "DouweM",
    "state": "active",
    "avatar_url": "https://gitlab.example.com/uploads/-/system/user/avatar/87854/avatar.png",
    "web_url": "https://gitlab.com/DouweM"
  },
  "merged_at": "2018-09-07T11:16:17.520Z",
  "prepared_at": "2018-09-04T11:16:17.520Z",
  "closed_by": null,
  "closed_at": null,
  "latest_build_started_at": "2018-09-07T07:27:38.472Z",
  "latest_build_finished_at": "2018-09-07T08:07:06.012Z",
  "first_deployed_to_production_at": null,
  "pipeline": {
    "id": 29626725,
    "sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "ref": "patch-28",
    "status": "success",
    "web_url": "https://gitlab.example.com/my-group/my-project/pipelines/29626725"
  },
  "diff_refs": {
    "base_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00",
    "head_sha": "2be7ddb704c7b6b83732fdd5b9f09d5a397b5f8f",
    "start_sha": "c380d3acebd181f13629a25d2e2acca46ffe1e00"
  },
  "diverged_commits_count": 2,
  "task_completion_status":{
    "count":0,
    "completed_count":0
  }
}</code></p>
<p>For important notes on response data, see <a href="#single-merge-request-response-notes">Single merge request response notes</a>.</p>
<h2>Create a to-do item</h2>
<p>Manually creates a to-do item for the current user on a merge request.
If there already exists a to-do item for the user on that merge request,
status code <code>HTTP 304 Not Modified</code> is returned.</p>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/todo</code></p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p><code>shell
curl --request POST \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/5/merge_requests/27/todo"</code></p>
<p>Example response:</p>
<p><code>json
{
  "id": 113,
  "project": {
    "id": 3,
    "name": "GitLab CI/CD",
    "name_with_namespace": "GitLab Org / GitLab CI/CD",
    "path": "gitlab-ci",
    "path_with_namespace": "gitlab-org/gitlab-ci"
  },
  "author": {
    "name": "Administrator",
    "username": "root",
    "id": 1,
    "state": "active",
    "avatar_url": "http://www.gravatar.com/avatar/e64c7d89f26bd1972efa854d13d7dd61?s=80&amp;d=identicon",
    "web_url": "https://gitlab.example.com/root"
  },
  "action_name": "marked",
  "target_type": "MergeRequest",
  "target": {
    "id": 27,
    "iid": 7,
    "project_id": 3,
    "title": "Et voluptas laudantium minus nihil recusandae ut accusamus earum aut non.",
    "description": "Veniam sunt nihil modi earum cumque illum delectus. Nihil ad quis distinctio quia. Autem eligendi at quibusdam repellendus.",
    "state": "merged",
    "created_at": "2016-06-17T07:48:04.330Z",
    "updated_at": "2016-07-01T11:14:15.537Z",
    "target_branch": "allow_regex_for_project_skip_ref",
    "source_branch": "backup",
    "upvotes": 0,
    "downvotes": 0,
    "author": {
      "name": "Jarret O'Keefe",
      "username": "francisca",
      "id": 14,
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/a7fa515d53450023c83d62986d0658a8?s=80&amp;d=identicon",
      "web_url": "https://gitlab.example.com/francisca",
      "discussion_locked": false
    },
    "assignee": {
      "name": "Dr. Gabrielle Strosin",
      "username": "barrett.krajcik",
      "id": 4,
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/733005fcd7e6df12d2d8580171ccb966?s=80&amp;d=identicon",
      "web_url": "https://gitlab.example.com/barrett.krajcik"
    },
    "assignees": [{
      "name": "Miss Monserrate Beier",
      "username": "axel.block",
      "id": 12,
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
      "web_url": "https://gitlab.example.com/axel.block"
    }],
    "reviewers": [{
      "name": "Miss Monserrate Beier",
      "username": "axel.block",
      "id": 12,
      "state": "active",
      "avatar_url": "http://www.gravatar.com/avatar/46f6f7dc858ada7be1853f7fb96e81da?s=80&amp;d=identicon",
      "web_url": "https://gitlab.example.com/axel.block"
    }],
    "source_project_id": 3,
    "target_project_id": 3,
    "labels": [],
    "draft": false,
    "work_in_progress": false,
    "milestone": {
      "id": 27,
      "iid": 2,
      "project_id": 3,
      "title": "v1.0",
      "description": "Quis ea accusantium animi hic fuga assumenda.",
      "state": "active",
      "created_at": "2016-06-17T07:47:33.840Z",
      "updated_at": "2016-06-17T07:47:33.840Z",
      "due_date": null
    },
    "merge_when_pipeline_succeeds": false,
    "merge_status": "unchecked",
    "detailed_merge_status": "not_open",
    "subscribed": true,
    "sha": "8888888888888888888888888888888888888888",
    "merge_commit_sha": null,
    "squash_commit_sha": null,
    "user_notes_count": 7,
    "changes_count": "1",
    "should_remove_source_branch": true,
    "force_remove_source_branch": false,
    "squash": false,
    "web_url": "http://example.com/my-group/my-project/merge_requests/1",
    "references": {
      "short": "!1",
      "relative": "!1",
      "full": "my-group/my-project!1"
    }
  },
  "target_url": "https://gitlab.example.com/gitlab-org/gitlab-ci/merge_requests/7",
  "body": "Et voluptas laudantium minus nihil recusandae ut accusamus earum aut non.",
  "state": "pending",
  "created_at": "2016-07-01T11:14:15.530Z"
}</code></p>
<h2>Get merge request diff versions</h2>
<p>Get a list of merge request diff versions.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/versions</code></p>
<p>| Attribute           | Type    | Required | Description                           |
|---------------------|---------|----------|---------------------------------------|
| <code>id</code>                | String  | Yes      | The ID of the project.                |
| <code>merge_request_iid</code> | integer | Yes      | The internal ID of the merge request. |</p>
<p>For an explanation of the SHAs in the response,
see <a href="#shas-in-the-api-response">SHAs in the API response</a>.</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/1/merge_requests/1/versions"</code></p>
<p>Example response:</p>
<p><code>json
[{
  "id": 110,
  "head_commit_sha": "33e2ee8579fda5bc36accc9c6fbd0b4fefda9e30",
  "base_commit_sha": "eeb57dffe83deb686a60a71c16c32f71046868fd",
  "start_commit_sha": "eeb57dffe83deb686a60a71c16c32f71046868fd",
  "created_at": "2016-07-26T14:44:48.926Z",
  "merge_request_id": 105,
  "state": "collected",
  "real_size": "1",
  "patch_id_sha": "d504412d5b6e6739647e752aff8e468dde093f2f"
}, {
  "id": 108,
  "head_commit_sha": "3eed087b29835c48015768f839d76e5ea8f07a24",
  "base_commit_sha": "eeb57dffe83deb686a60a71c16c32f71046868fd",
  "start_commit_sha": "eeb57dffe83deb686a60a71c16c32f71046868fd",
  "created_at": "2016-07-25T14:21:33.028Z",
  "merge_request_id": 105,
  "state": "collected",
  "real_size": "1",
  "patch_id_sha": "72c30d1f0115fc1d2bb0b29b24dc2982cbcdfd32"
}]</code></p>
<h3>SHAs in the API response</h3>
<p>| SHA field          | Purpose                                                                             |
|--------------------|-------------------------------------------------------------------------------------|
| <code>base_commit_sha</code>  | The merge-base commit SHA between the source branch and the target branches.        |
| <code>head_commit_sha</code>  | The HEAD commit of the source branch.                                               |
| <code>start_commit_sha</code> | The HEAD commit SHA of the target branch when this version of the diff was created. |</p>
<h2>Get a single merge request diff version</h2>
<p>Get a single merge request diff version.</p>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/versions/:version_id</code></p>
<p>Supported attributes:</p>
<p>| Attribute           | Type    | Required | Description                               |
|---------------------|---------|----------|-------------------------------------------|
| <code>id</code>                | String  | Yes      | ID of the project.                    |
| <code>merge_request_iid</code> | integer | Yes      | Internal ID of the merge request.     |
| <code>version_id</code>        | integer | Yes      | ID of the merge request diff version. |
| <code>unidiff</code>           | boolean | No       | Present diffs in the <a href="https://www.gnu.org/software/diffutils/manual/html_node/Detailed-Unified.html">unified diff</a> format. Default is false. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/130610">Introduced</a> in GitLab 16.5.      |</p>
<p>If successful, returns <a href="rest/index.md#status-codes"><code>200 OK</code></a> and the following
response attributes:</p>
<p>| Attribute                     | Type         | Description |
|-------------------------------|--------------|-------------|
| <code>id</code>                          | integer      | ID of the merge request diff version. |
| <code>base_commit_sha</code>             | string       | Merge-base commit SHA between the source branch and the target branches. |
| <code>commits</code>                     | object array | Commits in the merge request diff. |
| <code>commits[].id</code>                | string       | ID of the commit. |
| <code>commits[].short_id</code>          | string       | Short ID of the commit. |
| <code>commits[].created_at</code>        | datetime     | Identical to the <code>committed_date</code> field. |
| <code>commits[].parent_ids</code>        | array        | IDs of the parent commits. |
| <code>commits[].title</code>             | string       | Commit title. |
| <code>commits[].message</code>           | string       | Commit message. |
| <code>commits[].author_name</code>       | string       | Commit author's name. |
| <code>commits[].author_email</code>      | string       | Commit author's email address. |
| <code>commits[].authored_date</code>     | datetime     | Commit authored date. |
| <code>commits[].committer_name</code>    | string       | Committer's name. |
| <code>commits[].committer_email</code>   | string       | Committer's email address. |
| <code>commits[].committed_date</code>    | datetime     | Commit date. |
| <code>commits[].trailers</code>          | object       | Git trailers that were parsed for the commit. Duplicate keys include the last value only. |
| <code>commits[].extended_trailers</code> | object       | Git trailers that were parsed for the commit. |
| <code>commits[].web_url</code>           | string       | Web URL of the merge request. |
| <code>created_at</code>                  | datetime     | Timestamp of when the merge request was created. |
| <code>diffs</code>                       | object array | Diffs in the merge request diff version. |
| <code>diffs[].diff</code>                | string       | Content of the diff. |
| <code>diffs[].new_path</code>            | string       | New path of the file. |
| <code>diffs[].old_path</code>            | string       | Old path of the file. |
| <code>diffs[].a_mode</code>              | string       | Old file mode of the file. |
| <code>diffs[].b_mode</code>              | string       | New file mode of the file. |
| <code>diffs[].new_file</code>            | boolean      | Indicates if the file has just been added. |
| <code>diffs[].renamed_file</code>        | boolean      | Indicates if the file has been renamed. |
| <code>diffs[].deleted_file</code>        | boolean      | Indicates if the file has been removed. |
| <code>diffs[].generated_file</code>      | boolean      | Indicates if the file is <a href="../user/project/merge_requests/changes.md#collapse-generated-files">marked as generated</a>. <a href="https://gitlab.com/gitlab-org/gitlab/-/merge_requests/141576">Introduced</a> in GitLab 16.9. |
| <code>head_commit_sha</code>             | string       | HEAD commit of the source branch. |
| <code>merge_request_id</code>            | integer      | ID of the merge request. |
| <code>patch_id_sha</code>                | string       | <a href="https://git-scm.com/docs/git-patch-id">Patch ID</a> for the merge request diff. |
| <code>real_size</code>                   | string       | Number of changes in the merge request diff. |
| <code>start_commit_sha</code>            | string       | HEAD commit SHA of the target branch when this version of the diff was created. |
| <code>state</code>                       | string       | State of the merge request diff. Can be <code>collected</code>, <code>overflow</code>, <code>without_files</code>. Deprecated values: <code>timeout</code>, <code>overflow_commits_safe_size</code>, <code>overflow_diff_files_limit</code>, <code>overflow_diff_lines_limit</code>. |</p>
<p>Example request:</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/1/merge_requests/1/versions/1"</code></p>
<p>Example response:</p>
<p><code>json
{
  "id": 110,
  "head_commit_sha": "33e2ee8579fda5bc36accc9c6fbd0b4fefda9e30",
  "base_commit_sha": "eeb57dffe83deb686a60a71c16c32f71046868fd",
  "start_commit_sha": "eeb57dffe83deb686a60a71c16c32f71046868fd",
  "created_at": "2016-07-26T14:44:48.926Z",
  "merge_request_id": 105,
  "state": "collected",
  "real_size": "1",
  "patch_id_sha": "d504412d5b6e6739647e752aff8e468dde093f2f",
  "commits": [{
    "id": "33e2ee8579fda5bc36accc9c6fbd0b4fefda9e30",
    "short_id": "33e2ee85",
    "parent_ids": [],
    "title": "Change year to 2018",
    "author_name": "Administrator",
    "author_email": "admin@example.com",
    "authored_date": "2016-07-26T17:44:29.000+03:00",
    "committer_name": "Administrator",
    "committer_email": "admin@example.com",
    "committed_date": "2016-07-26T17:44:29.000+03:00",
    "created_at": "2016-07-26T17:44:29.000+03:00",
    "message": "Change year to 2018",
    "trailers": {},
    "extended_trailers": {},
    "web_url": "https://gitlab.example.com/project/-/commit/33e2ee8579fda5bc36accc9c6fbd0b4fefda9e30"
  }, {
    "id": "aa24655de48b36335556ac8a3cd8bb521f977cbd",
    "short_id": "aa24655d",
    "parent_ids": [],
    "title": "Update LICENSE",
    "author_name": "Administrator",
    "author_email": "admin@example.com",
    "authored_date": "2016-07-25T17:21:53.000+03:00",
    "committer_name": "Administrator",
    "committer_email": "admin@example.com",
    "committed_date": "2016-07-25T17:21:53.000+03:00",
    "created_at": "2016-07-25T17:21:53.000+03:00",
    "message": "Update LICENSE",
    "trailers": {},
    "extended_trailers": {},
    "web_url": "https://gitlab.example.com/project/-/commit/aa24655de48b36335556ac8a3cd8bb521f977cbd"
  }, {
    "id": "3eed087b29835c48015768f839d76e5ea8f07a24",
    "short_id": "3eed087b",
    "parent_ids": [],
    "title": "Add license",
    "author_name": "Administrator",
    "author_email": "admin@example.com",
    "authored_date": "2016-07-25T17:21:20.000+03:00",
    "committer_name": "Administrator",
    "committer_email": "admin@example.com",
    "committed_date": "2016-07-25T17:21:20.000+03:00",
    "created_at": "2016-07-25T17:21:20.000+03:00",
    "message": "Add license",
    "trailers": {},
    "extended_trailers": {},
    "web_url": "https://gitlab.example.com/project/-/commit/3eed087b29835c48015768f839d76e5ea8f07a24"
  }],
  "diffs": [{
    "old_path": "LICENSE",
    "new_path": "LICENSE",
    "a_mode": "0",
    "b_mode": "100644",
    "diff": "@@ -0,0 +1,21 @@\n+The MIT License (MIT)\n+\n+Copyright (c) 2018 Administrator\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of this software and associated documentation files (the \"Software\"), to deal\n+in the Software without restriction, including without limitation the rights\n+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+copies of the Software, and to permit persons to whom the Software is\n+furnished to do so, subject to the following conditions:\n+\n+The above copyright notice and this permission notice shall be included in all\n+copies or substantial portions of the Software.\n+\n+THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+SOFTWARE.\n",
    "new_file": true,
    "renamed_file": false,
    "deleted_file": false,
    "generated_file": false
  }]
}</code></p>
<h2>Set a time estimate for a merge request</h2>
<p>Sets an estimated time of work for this merge request.</p>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/time_estimate</code></p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |
| <code>duration</code>          | string            | Yes      | The duration in human format, such as <code>3h30m</code>. |</p>
<p><code>shell
curl --request POST \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/5/merge_requests/93/time_estimate?duration=3h30m"</code></p>
<p>Example response:</p>
<p><code>json
{
  "human_time_estimate": "3h 30m",
  "human_total_time_spent": null,
  "time_estimate": 12600,
  "total_time_spent": 0
}</code></p>
<h2>Reset the time estimate for a merge request</h2>
<p>Resets the estimated time for this merge request to 0 seconds.</p>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/reset_time_estimate</code></p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of a project's merge request. |</p>
<p><code>shell
curl --request POST \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/5/merge_requests/93/reset_time_estimate"</code></p>
<p>Example response:</p>
<p><code>json
{
  "human_time_estimate": null,
  "human_total_time_spent": null,
  "time_estimate": 0,
  "total_time_spent": 0
}</code></p>
<h2>Add spent time for a merge request</h2>
<p>Adds spent time for this merge request.</p>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/add_spent_time</code></p>
<p>| Attribute           | Type           | Required | Description |
|---------------------|----------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer        | Yes      | The internal ID of the merge request. |
| <code>duration</code>          | string         | Yes      | The duration in human format, such as <code>3h30m</code> |
| <code>summary</code>           | string         | No       | A summary of how the time was spent. |</p>
<p><code>shell
curl --request POST \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/5/merge_requests/93/add_spent_time?duration=1h"</code></p>
<p>Example response:</p>
<p><code>json
{
  "human_time_estimate": null,
  "human_total_time_spent": "1h",
  "time_estimate": 0,
  "total_time_spent": 3600
}</code></p>
<h2>Reset spent time for a merge request</h2>
<p>Resets the total spent time for this merge request to 0 seconds.</p>
<p><code>plaintext
POST /projects/:id/merge_requests/:merge_request_iid/reset_spent_time</code></p>
<p>| Attribute           | Type           | Required | Description |
|---------------------|----------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer        | Yes      | The internal ID of a project's merge request. |</p>
<p><code>shell
curl --request POST \
  --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/5/merge_requests/93/reset_spent_time"</code></p>
<p>Example response:</p>
<p><code>json
{
  "human_time_estimate": null,
  "human_total_time_spent": null,
  "time_estimate": 0,
  "total_time_spent": 0
}</code></p>
<h2>Get time tracking stats</h2>
<p><code>plaintext
GET /projects/:id/merge_requests/:merge_request_iid/time_stats</code></p>
<p>| Attribute           | Type              | Required | Description |
|---------------------|-------------------|----------|-------------|
| <code>id</code>                | integer or string | Yes      | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user. |
| <code>merge_request_iid</code> | integer           | Yes      | The internal ID of the merge request. |</p>
<p><code>shell
curl --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" \
  --url "https://gitlab.example.com/api/v4/projects/5/merge_requests/93/time_stats"</code></p>
<p>Example response:</p>
<p><code>json
{
  "human_time_estimate": "2h",
  "human_total_time_spent": "1h",
  "time_estimate": 7200,
  "total_time_spent": 3600
}</code></p>
<h2>Approvals</h2>
<p>For approvals, see <a href="merge_request_approvals.md">Merge request approvals</a>.</p>
<h2>List merge request state events</h2>
<p>To track which state was set, who did it, and when it happened, check out
<a href="resource_state_events.md#merge-requests">Resource state events API</a>.</p>
<h2>Troubleshooting</h2>
<h3>Empty API fields for new merge requests</h3>
<p>When a merge request is created, the <code>diff_refs</code> and <code>changes_count</code> fields are
initially empty. These fields are populated asynchronously after the
merge request is created. For more information, see the issue
<a href="https://gitlab.com/gitlab-org/gitlab/-/issues/386562">Some merge request API fields (<code>diff_refs</code>, <code>changes_count</code>) empty after MR is created</a>,
and the <a href="https://forum.gitlab.com/t/diff-refs-empty-after-mr-is-created/78975">related discussion</a>
in the GitLab forums.</p>
</body>
</html>