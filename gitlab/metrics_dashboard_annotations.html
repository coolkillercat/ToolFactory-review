<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>metrics_dashboard_annotations API Documentation</title>
</head>
<body>
<hr />
<p>stage: Monitor
group: Respond
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments</p>
<hr />
<h1>Dashboard annotations API</h1>
<p>DETAILS:
<strong>Tier:</strong> Free, Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<p>Metrics dashboard annotations allow you to indicate events on your graphs at a single point in time or over a time span.</p>
<h2>Create a new annotation</h2>
<p><code>plaintext
POST /environments/:id/metrics_dashboard/annotations/
POST /clusters/:id/metrics_dashboard/annotations/</code></p>
<p>Parameters:</p>
<p>| Attribute      | Type           | Required | Description                                                                  |
|:---------------|:---------------|:---------|:-----------------------------------------------------------------------------|
| <code>dashboard_path</code> | string        | yes      | ID of the dashboard which needs to be annotated. Treated as a CGI-escaped path, and automatically un-escaped.  |
| <code>starting_at</code> | string        | yes      | Date time string, ISO 8601 formatted, such as <code>2016-03-11T03:45:40Z</code>. Timestamp marking start point of annotation.   |
| <code>ending_at</code> | string        | no      | Date time string, ISO 8601 formatted, such as <code>2016-03-11T03:45:40Z</code>. Timestamp marking end point of annotation. When not supplied, an annotation displays as a single event at the start point.  |
| <code>description</code> | string        | yes      | Description of the annotation.  |</p>
<p><code>shell
curl --header "Private-Token: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/environments/1/metrics_dashboard/annotations" \
 --data-urlencode "dashboard_path=.gitlab/dashboards/custom_metrics.yml" \
 --data-urlencode "starting_at=2016-03-11T03:45:40Z" \
 --data-urlencode "description=annotation description"</code></p>
<p>Example Response:</p>
<p><code>json
{
  "id": 4,
  "starting_at": "2016-04-08T03:45:40.000Z",
  "ending_at": null,
  "dashboard_path": ".gitlab/dashboards/custom_metrics.yml",
  "description": "annotation description",
  "environment_id": 1,
  "cluster_id": null
}</code></p>
</body>
</html>