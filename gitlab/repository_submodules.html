<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>repository_submodules API Documentation</title>
</head>
<body>
<hr />
<p>stage: Create
group: Source Code
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments</p>
<hr />
<h1>Repository submodules API</h1>
<p>DETAILS:
<strong>Tier:</strong> Free, Premium, Ultimate
<strong>Offering:</strong> GitLab.com, Self-managed, GitLab Dedicated</p>
<h2>Update existing submodule reference in repository</h2>
<p>In some workflows, especially automated ones, it can be useful to update a
submodule's reference to keep up to date other projects that use it.
This endpoint allows you to update a <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">Git submodule</a> reference in a
specific branch.</p>
<p><code>plaintext
PUT /projects/:id/repository/submodules/:submodule</code></p>
<p>| Attribute | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| <code>id</code> | integer/string | yes | The ID or <a href="rest/index.md#namespaced-path-encoding">URL-encoded path of the project</a> owned by the authenticated user |
| <code>submodule</code> | string | yes | URL-encoded full path to the submodule. For example, <code>lib%2Fclass%2Erb</code> |
| <code>branch</code> | string | yes | Name of the branch to commit into |
| <code>commit_sha</code> | string | yes | Full commit SHA to update the submodule to |
| <code>commit_message</code> | string | no | Commit message. If no message is provided, a default is set |</p>
<p><code>shell
curl --request PUT --header "PRIVATE-TOKEN: &lt;your_access_token&gt;" "https://gitlab.example.com/api/v4/projects/5/repository/submodules/lib%2Fmodules%2Fexample" \
--data "branch=main&amp;commit_sha=3ddec28ea23acc5caa5d8331a6ecb2a65fc03e88&amp;commit_message=Update submodule reference"</code></p>
<p>Example response:</p>
<p><code>json
{
  "id": "ed899a2f4b50b4370feeea94676502b42383c746",
  "short_id": "ed899a2f4b5",
  "title": "Updated submodule example_submodule with oid 3ddec28ea23acc5caa5d8331a6ecb2a65fc03e88",
  "author_name": "Dmitriy Zaporozhets",
  "author_email": "dzaporozhets@sphereconsultinginc.com",
  "committer_name": "Dmitriy Zaporozhets",
  "committer_email": "dzaporozhets@sphereconsultinginc.com",
  "created_at": "2018-09-20T09:26:24.000-07:00",
  "message": "Updated submodule example_submodule with oid 3ddec28ea23acc5caa5d8331a6ecb2a65fc03e88",
  "parent_ids": [
    "ae1d9fb46aa2b07ee9836d49862ec4e2c46fbbba"
  ],
  "committed_date": "2018-09-20T09:26:24.000-07:00",
  "authored_date": "2018-09-20T09:26:24.000-07:00",
  "status": null
}</code></p>
</body>
</html>