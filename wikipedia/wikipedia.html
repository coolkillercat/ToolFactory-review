<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<title>kiwix-serve</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 9511 2024-01-13 09:50:07Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
Despite the name, some widely supported CSS2 features are used.

See https://docutils.sourceforge.io/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: gray; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic, pre.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="kiwix-serve">
<h1 class="title">kiwix-serve</h1>

<div class="section" id="introduction">
<h1>Introduction</h1>
<p><tt class="docutils literal"><span class="pre">kiwix-serve</span></tt> is a tool for serving ZIM file content over HTTP. It supports
serving a library containing multiple ZIM files. In a large library served by a
<tt class="docutils literal"><span class="pre">kiwix-serve</span></tt> instance clients can look up/filter ZIM files of interest by
words in their <a href="#system-message-1"><span class="problematic" id="problematic-1">:term:`titles &lt;ZIM title&gt;`</span></a> and/or descriptions, language, tags, etc.</p>
<div class="system-message" id="system-message-1">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 8); <em><a href="#problematic-1">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
<p><tt class="docutils literal"><span class="pre">kiwix-serve</span></tt> provides a ZIM file viewer for displaying inidividual pages
from a ZIM file inside the user's web browser (without downloading the full ZIM
file).</p>
<p>Clients can also remotely search inside those ZIM files that contain a full-text
search database.</p>
</div>
<div class="section" id="usage">
<h1>Usage</h1>
<pre class="code sh literal-block">
kiwix-serve<span class="whitespace"> </span>--library<span class="whitespace"> </span><span class="operator">[</span>OPTIONS<span class="operator">]</span><span class="whitespace"> </span>LIBRARY_FILE_PATH<span class="whitespace">
</span>kiwix-serve<span class="whitespace"> </span><span class="operator">[</span>OPTIONS<span class="operator">]</span><span class="whitespace"> </span>ZIM_FILE_PATH<span class="whitespace"> </span>...
</pre>
<div class="section" id="arguments">
<h2>Arguments</h2>
<p id="cli-arg-library-file-path"><tt class="docutils literal">LIBRARY_FILE_PATH</tt>: path of an XML library file listing ZIM files to serve.
To be used only with the <a href="#system-message-2"><span class="problematic" id="problematic-2">:option:`--library`</span></a> option. Multiple library files can
be provided as a semicolon (<tt class="docutils literal">;</tt>) separated list.</p>
<div class="system-message" id="system-message-2">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 35); <em><a href="#problematic-2">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
<p><tt class="docutils literal">ZIM_FILE_PATH</tt>: ZIM file path (multiple arguments are allowed).</p>
</div>
<div class="section" id="options">
<h2>Options</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 44)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: --library

  By default, ``kiwix-serve`` expects a list of ZIM files as command line
  arguments. Providing the :option:`--library` option tells ``kiwix-serve``
  that the command line argument is rather a :ref:`library XML file
  &lt;cli-arg-library-file-path&gt;`.

</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 51)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -i ADDR, --address=ADDR

  Listen only on this IP address. By default the server listens on all
  available IP addresses. Alternatively, you can use special values to define which types of connections to accept:

  - all : Listen for connections on all IP addresses (IPv4 and IPv6).
  - ipv4 : Listen for connections on all IPv4 addresses.
  - ipv6 : Listen for connections on all IPv6 addresses.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 61)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -p PORT, --port=PORT

  TCP port on which to listen for HTTP requests (default: 80).


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 66)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -r ROOT, --urlRootLocation=ROOT

  URL prefix on which the content should be made available (default: empty).


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 71)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -d, --daemon

  Detach the HTTP server daemon from the main process.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 76)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -a PID, --attachToProcess=PID

  Exit when the process with id PID stops running.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 81)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -M, --monitorLibrary

  Monitor the XML library file and reload it automatically when it changes.

  Library reloading can be forced anytime by sending a SIGHUP signal to the
  ``kiwix-serve`` process (this works regardless of the presence of the
  :option:`--monitorLibrary`/:option:`-M` option).


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 90)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -m, --nolibrarybutton

  Disable the library home button in the ZIM viewer toolbar.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 95)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -n, --nosearchbar

  Disable the searchbox in the ZIM viewer toolbar.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 100)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -b, --blockexternal

  Prevent the users from directly navigating to external resources via such
  links in ZIM content.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 106)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -t N, --threads=N

  Number of threads to run in parallel (default: 4).


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 111)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -s N, --searchLimit=N

  Maximum number of ZIM files in a fulltext multizim search (default: No limit).


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 116)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -z, --nodatealiases

  Create URL aliases for each content by removing the date embedded in the file
  name. The expected format of the date in the filename is ``_YYYY-MM``. For
  example, ZIM file ``wikipedia_en_all_2020-08.zim`` will be accessible both as
  ``wikipedia_en_all_2020-08`` and ``wikipedia_en_all``.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 124)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -c PATH, --customIndex=PATH

  Override the welcome page with a custom HTML file.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 129)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -L N, --ipConnectionLimit=N

  Max number of (concurrent) connections per IP (default: infinite,
  recommended: &gt;= 6).


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 135)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -v, --verbose

  Print debug log to STDOUT.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 140)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -V, --version

  Print the software version.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 145)</p>
<p>Unknown directive type &quot;option&quot;.</p>
<pre class="literal-block">
.. option:: -h, --help

  Print the help text.


</pre>
</div>
</div>
</div>
<div class="section" id="http-api">
<h1>HTTP API</h1>
<p><tt class="docutils literal"><span class="pre">kiwix-serve</span></tt> serves content at/under <tt class="docutils literal"><span class="pre">http://ADDR:PORT/ROOT</span></tt> where
<tt class="docutils literal">ADDR</tt>, <tt class="docutils literal">PORT</tt> and <tt class="docutils literal">ROOT</tt> are the values supplied to the
<a href="#system-message-3"><span class="problematic" id="problematic-3">:option:`--address`</span></a>/<a href="#system-message-4"><span class="problematic" id="problematic-4">:option:`-i`</span></a>, <a href="#system-message-5"><span class="problematic" id="problematic-5">:option:`--port`</span></a>/<a href="#system-message-6"><span class="problematic" id="problematic-6">:option:`-p`</span></a> and
<a href="#system-message-7"><span class="problematic" id="problematic-7">:option:`--urlRootLocation`</span></a>/<a href="#system-message-8"><span class="problematic" id="problematic-8">:option:`-r`</span></a> options, respectively.</p>
<div class="system-message" id="system-message-3">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 153); <em><a href="#problematic-3">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
<div class="system-message" id="system-message-4">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 153); <em><a href="#problematic-4">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
<div class="system-message" id="system-message-5">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 153); <em><a href="#problematic-5">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
<div class="system-message" id="system-message-6">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 153); <em><a href="#problematic-6">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
<div class="system-message" id="system-message-7">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 153); <em><a href="#problematic-7">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
<div class="system-message" id="system-message-8">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 153); <em><a href="#problematic-8">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
<p>HTTP API endpoints presented below are relative to that location, i.e.
<tt class="docutils literal">/foo/bar</tt> must be actually accessed as <tt class="docutils literal"><span class="pre">http://ADDR:PORT/ROOT/foo/bar</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The HTTP API is documented in its entirety in order to facilitate the work of
the Kiwix development team. Note, however, that only a subset of the HTTP API
constitutes <tt class="docutils literal"><span class="pre">kiwix-serves</span></tt>'s public interface.</p>
<p id="public-api-endpoint"><strong>Public API endpoint</strong></p>
<blockquote>
A public HTTP API endpoint is intended to serve the outside world (in
addition to <tt class="docutils literal"><span class="pre">kiwix-serve</span></tt>'s front-end and other Kiwix products). The
Kiwix development team will do its best to ensure gratifying experience for
clients of public API endpoints at all stages of the endpoint lifecycle.</blockquote>
<p id="private-api-endpoint"><strong>Private API endpoint</strong></p>
<blockquote>
A private API endpoint is intended to be used only by <tt class="docutils literal"><span class="pre">kiwix-serve</span></tt>'s
frontend or by other products maintained solely by the Kiwix team. Private
API comes without any guaranees. It may change as frequently and as
drasticaly as the Kiwix development team sees fit.</blockquote>
<p id="deprecation"><strong>Deprecation</strong></p>
<blockquote>
Public API doesn't stay frozen once and forever. As the API evolves, Kiwix
team reserves the right to drop support for certain old functionality. In
such events, an advance notice will be issued and the users will be given
enough time to prepare for the change.</blockquote>
<p>Currently, public endpoints are limited to the following list:</p>
<blockquote class="last">
<ul>
<li><p class="first"><a href="#system-message-9"><span class="problematic" id="problematic-9">:ref:`OPDS API &lt;new-opds-api&gt;`</span></a></p>
<div class="system-message" id="system-message-9">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 196); <em><a href="#problematic-9">backlink</a></em></p>
<p>Unknown interpreted text role &quot;ref&quot;.</p>
</div>
</li>
<li><p class="first"><tt class="docutils literal">/raw</tt></p>
</li>
<li><p class="first"><tt class="docutils literal">/search</tt> (with <tt class="docutils literal">/search/searchdescription.xml</tt>)</p>
</li>
</ul>
</blockquote>
</div>
<div class="section" id="section-1">
<span id="welcome-page"></span><h2><tt class="docutils literal">/</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-10"><span class="problematic" id="problematic-10">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-10">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 207); <em><a href="#problematic-10">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Welcome page is served under <tt class="docutils literal">/</tt>. By default this is the library page, where
books are listed and can be looked up/filtered interactively. However, the
welcome page can be overriden through the <a href="#system-message-11"><span class="problematic" id="problematic-11">:option:`--customIndex`</span></a>/<a href="#system-message-12"><span class="problematic" id="problematic-12">:option:`-c`</span></a>
command line option of <tt class="docutils literal"><span class="pre">kiwix-serve</span></tt>.</p>
<div class="system-message" id="system-message-11">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 209); <em><a href="#problematic-11">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
<div class="system-message" id="system-message-12">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 209); <em><a href="#problematic-12">backlink</a></em></p>
Unknown interpreted text role &quot;option&quot;.</div>
</div>
<div class="section" id="catalog-v2-opds-api">
<span id="new-opds-api"></span><h2><tt class="docutils literal">/catalog/v2</tt> (OPDS API)</h2>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-13"><span class="problematic" id="problematic-13">:ref:`public &lt;public-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-13">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 222); <em><a href="#problematic-13">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>The new OPDS API of <tt class="docutils literal"><span class="pre">kiwix-serve</span></tt> is based on the <a class="reference external" href="https://specs.opds.io/opds-1.2">OPDS Catalog specification
v1.2</a>. All of its endpoints are grouped under
<tt class="docutils literal">/catalog/v2</tt>.</p>
<p><a href="#system-message-14"><span class="problematic" id="problematic-14">:ref:`Legacy OPDS API &lt;legacy-opds-api&gt;`</span></a> is preserved for backward
compatibility.</p>
<div class="system-message" id="system-message-14">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 228); <em><a href="#problematic-14">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="section" id="catalog-v2-root-xml">
<h3><tt class="docutils literal">/catalog/v2/root.xml</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-15"><span class="problematic" id="problematic-15">:ref:`public API &lt;new-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-15">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 237); <em><a href="#problematic-15">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>The OPDS Catalog Root links to the OPDS acquisition and navigation feeds
accessible through the other endpoints of the OPDS API.</p>
</div>
<div class="section" id="catalog-v2-searchdescription-xml">
<h3><tt class="docutils literal">/catalog/v2/searchdescription.xml</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-16"><span class="problematic" id="problematic-16">:ref:`public API &lt;new-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-16">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 248); <em><a href="#problematic-16">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Describes the <a class="reference internal" href="#catalog-v2-entries">/catalog/v2/entries</a> endpoint in <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/OpenSearch">OpenSearch description format</a>.</p>
</div>
<div class="section" id="catalog-v2-categories">
<h3><tt class="docutils literal">/catalog/v2/categories</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-17"><span class="problematic" id="problematic-17">:ref:`public API &lt;new-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-17">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 260); <em><a href="#problematic-17">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns the full list of ZIM file categories as an <a class="reference external" href="https://specs.opds.io/opds-1.2#22-navigation-feeds">OPDS Navigation Feed</a>.</p>
</div>
<div class="section" id="catalog-v2-entries">
<h3><tt class="docutils literal">/catalog/v2/entries</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-18"><span class="problematic" id="problematic-18">:ref:`public API &lt;new-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-18">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 271); <em><a href="#problematic-18">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns a full or filtered list of ZIM files as a paginated <a class="reference external" href="https://specs.opds.io/opds-1.2#23-acquisition-feeds">OPDS acquisition
feed</a> with <a class="reference external" href="https://specs.opds.io/opds-1.2#512-partial-and-complete-catalog-entries">complete
entries</a>.</p>
<p><strong>Pagination:</strong></p>
<p>By default, no more than 10 first entries are returned from the library. To
obtain the remaining entries the URL query parameters <tt class="docutils literal">start</tt> and/or
<tt class="docutils literal">count</tt> must be used. The output of <tt class="docutils literal"><span class="pre">/catalog/v2/entries?start=s&amp;count=n</span></tt>
will contain at most <tt class="docutils literal">n</tt> (default value: 10) results starting from entry #
<tt class="docutils literal">s</tt> (default value: 0).  <tt class="docutils literal">count</tt> with a negative value (e.g.  <tt class="docutils literal"><span class="pre">count=-1</span></tt>)
removes the limit on the number of results in the output.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Previously <tt class="docutils literal">count=0</tt> also designated an unbounded query (i.e. worked
similarly to <tt class="docutils literal"><span class="pre">count=-1</span></tt>). The response to a <tt class="docutils literal">count=0</tt> query was changed
to consist of 0 results, as such a query/response combination is a good way
to find out the total number of results (when only that information is
needed) with minimal consumption of resources.</p>
</div>
<p>Examples:</p>
<pre class="code sh literal-block">
<span class="comment single"># Returns the first 10 entries (internally numbered 0 through 9)
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catalog/v2/entries'</span><span class="whitespace">

</span><span class="comment single"># Returns the next 10 entries (internally numbered 10 through 19)
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catalog/v2/entries?start=10'</span><span class="whitespace">

</span><span class="comment single"># Returns the first 50 entries
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catalog/v2/entries?count=50'</span><span class="whitespace">

</span><span class="comment single"># Returns 50 entries starting from entry # 100 (i.e. entries ## 100-149)
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catalog/v2/entries?start=100&amp;count=50'</span><span class="whitespace">

</span><span class="comment single"># Returns all entries
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catalog/v2/entries?count=-1'</span><span class="whitespace">

</span><span class="comment single"># Returns all entries starting from entry # 100
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catalog/v2/entries?start=100&amp;count=-1'</span>
</pre>
<p id="library-filtering"><strong>Filtering:</strong></p>
<p>A filtered subset of the library can be requested by providing one or more
filtering criteria, whereupon only entries matching <em>all</em> of the criteria are
included in the response. Pagination is applied to the filtered list. The
filtering criteria must be specified via the following URL parameters:</p>
<ul>
<li><p class="first"><tt class="docutils literal">lang</tt> - filter by language (specified as a 3-letter language code).</p>
</li>
<li><p class="first"><tt class="docutils literal">category</tt> - filter by categories associated with the library entries.</p>
</li>
<li><p class="first"><tt class="docutils literal">tag</tt> - filter by tags associated with the library entries. Multiple tags
can be provided as a semicolon separated list (e.g
<tt class="docutils literal">tag=wikipedia;_videos:no</tt>). The result will contain only those entries
that contain <em>all</em> of the requested tags.</p>
</li>
<li><p class="first"><tt class="docutils literal">notag</tt> - filter out (exclude) entries with <em>any</em> of the specified tags
(example - <tt class="docutils literal">notag=ted;youtube</tt>).</p>
</li>
<li><p class="first"><tt class="docutils literal">maxsize</tt> - include in the results only entries whose size (in bytes)
doesn't exceed the provided value.</p>
</li>
<li><p class="first"><tt class="docutils literal">q</tt> - include in the results only entries that contain the specified text
in the title or description.</p>
</li>
<li><p class="first"><tt class="docutils literal">name</tt> - include in the results only entries with a matching
<a href="#system-message-19"><span class="problematic" id="problematic-19">:term:`book name &lt;Book name&gt;`</span></a>.</p>
<div class="system-message" id="system-message-19">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 346); <em><a href="#problematic-19">backlink</a></em></p>
<p>Unknown interpreted text role &quot;term&quot;.</p>
</div>
</li>
</ul>
<p>Examples:</p>
<pre class="code sh literal-block">
<span class="comment single"># List only books in Italian (lang=ita) but
# return only results ## 100-149 (start=100&amp;count=50)
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catalog/v2/entries?lang=ita&amp;start=100&amp;count=50'</span><span class="whitespace">

</span><span class="comment single"># List only books with category of 'wikipedia' AND containing the word
# 'science' in the title or description. Return only the first 10 results.
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catalog/v2/entries?q=science&amp;category=wikipedia'</span>
</pre>
</div>
<div class="section" id="catalog-v2-entry-zimid">
<h3><tt class="docutils literal">/catalog/v2/entry/ZIMID</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-20"><span class="problematic" id="problematic-20">:ref:`public API &lt;new-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-20">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 368); <em><a href="#problematic-20">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns full info about the library entry with <a href="#system-message-21"><span class="problematic" id="problematic-21">:term:`UUID &lt;ZIM UUID&gt;`</span></a>
<tt class="docutils literal">ZIMID</tt>.</p>
<div class="system-message" id="system-message-21">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 370); <em><a href="#problematic-21">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
</div>
<div class="section" id="catalog-v2-illustration-zimid">
<h3><tt class="docutils literal">/catalog/v2/illustration/ZIMID</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-22"><span class="problematic" id="problematic-22">:ref:`public API &lt;new-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-22">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 379); <em><a href="#problematic-22">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p><strong>Usage:</strong></p>
<blockquote>
<tt class="docutils literal"><span class="pre">/catalog/v2/illustration/ZIMID?size=N</span></tt></blockquote>
<p>Returns the illustration of size <tt class="docutils literal">NxN</tt> pixels for the library entry with
<a href="#system-message-23"><span class="problematic" id="problematic-23">:term:`UUID &lt;ZIM UUID&gt;`</span></a> <tt class="docutils literal">ZIMID</tt>.</p>
<div class="system-message" id="system-message-23">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 385); <em><a href="#problematic-23">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
<p>If no illustration of requested size is found a HTTP 404 error is returned.</p>
</div>
<div class="section" id="catalog-v2-languages">
<h3><tt class="docutils literal">/catalog/v2/languages</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-24"><span class="problematic" id="problematic-24">:ref:`public API &lt;new-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-24">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 396); <em><a href="#problematic-24">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns the full list of ZIM file languages as an <a class="reference external" href="https://specs.opds.io/opds-1.2#22-navigation-feeds">OPDS Navigation Feed</a>.</p>
</div>
<div class="section" id="catalog-v2-partial-entries">
<h3><tt class="docutils literal">/catalog/v2/partial_entries</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-25"><span class="problematic" id="problematic-25">:ref:`public API &lt;new-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-25">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 407); <em><a href="#problematic-25">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns the full or filtered list of ZIM files as an <a class="reference external" href="https://specs.opds.io/opds-1.2#23-acquisition-feeds">OPDS acquisition feed</a> with <a class="reference external" href="https://specs.opds.io/opds-1.2#512-partial-and-complete-catalog-entries">partial entries</a>.</p>
<p>Supported filters are the same as for the <a class="reference internal" href="#catalog-v2-entries">/catalog/v2/entries</a> endpoint.</p>
</div>
</div>
<div class="section" id="catalog-legacy-opds-api">
<span id="legacy-opds-api"></span><h2><tt class="docutils literal">/catalog</tt> (Legacy OPDS API)</h2>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-26"><span class="problematic" id="problematic-26">:ref:`deprecated &lt;deprecation&gt;`</span></a></p>
<div class="last system-message" id="system-message-26">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 423); <em><a href="#problematic-26">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>The legacy OPDS API is preserved for backward compatibility and is deprecated.
<a href="#system-message-27"><span class="problematic" id="problematic-27">:ref:`New OPDS API &lt;new-opds-api&gt;`</span></a> should be used instead.</p>
<div class="system-message" id="system-message-27">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 425); <em><a href="#problematic-27">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="section" id="catalog-root-xml">
<h3><tt class="docutils literal">/catalog/root.xml</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-28"><span class="problematic" id="problematic-28">:ref:`deprecated API &lt;legacy-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-28">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 434); <em><a href="#problematic-28">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Full library OPDS catalog (list of all ZIM files).</p>
</div>
<div class="section" id="catalog-searchdescription-xml">
<h3><tt class="docutils literal">/catalog/searchdescription.xml</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-29"><span class="problematic" id="problematic-29">:ref:`deprecated API &lt;legacy-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-29">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 444); <em><a href="#problematic-29">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Describes the <a class="reference internal" href="#catalog-search">/catalog/search</a> endpoint in <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/OpenSearch">OpenSearch description format</a>.</p>
</div>
<div class="section" id="catalog-search">
<h3><tt class="docutils literal">/catalog/search</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-30"><span class="problematic" id="problematic-30">:ref:`deprecated API &lt;legacy-opds-api&gt;`</span></a></p>
<div class="last system-message" id="system-message-30">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 455); <em><a href="#problematic-30">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns the list of ZIM files (in OPDS catalog format) matching the
search/filtering criteria. Supported filters are the same as for the
<a class="reference internal" href="#catalog-v2-entries">/catalog/v2/entries</a> endpoint.</p>
</div>
</div>
<div class="section" id="catch-external">
<h2><tt class="docutils literal">/catch/external</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-31"><span class="problematic" id="problematic-31">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-31">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 467); <em><a href="#problematic-31">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p><strong>Usage:</strong></p>
<blockquote>
<tt class="docutils literal"><span class="pre">/catch/external?source=URL</span></tt></blockquote>
<p>Generates a HTML page with a link leading to (the decoded version of) <tt class="docutils literal">URL</tt>
and a warning that following that link will load an external (out of ZIM)
resource.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<tt class="docutils literal">source</tt>: URL of the external resource (must be URL-encoded).</blockquote>
<p><strong>Example:</strong></p>
<pre class="code sh literal-block">
<span class="comment single"># Intercept an external link to https://example.com?query=abcd
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/catch/external?source=https%3A%2F%2Fexample.com%3Fquery%3Dabcd'</span>
</pre>
</div>
<div class="section" id="content">
<h2><tt class="docutils literal">/content</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-32"><span class="problematic" id="problematic-32">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-32">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 495); <em><a href="#problematic-32">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>ZIM file content is served under the <tt class="docutils literal">/content</tt> endpoint as described below.</p>
<div class="section" id="content-zimname-path-in-zimfile">
<h3><tt class="docutils literal">/content/ZIMNAME/PATH/IN/ZIMFILE</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-33"><span class="problematic" id="problematic-33">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-33">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 505); <em><a href="#problematic-33">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns the entry with path <tt class="docutils literal">PATH/IN/ZIMFILE</tt> from ZIM file with <a href="#system-message-34"><span class="problematic" id="problematic-34">:term:`name
&lt;ZIM name&gt;`</span></a> <tt class="docutils literal">ZIMNAME</tt>.</p>
<div class="system-message" id="system-message-34">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 507); <em><a href="#problematic-34">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
</div>
<div class="section" id="content-zimname">
<h3><tt class="docutils literal">/content/ZIMNAME</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-35"><span class="problematic" id="problematic-35">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-35">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 516); <em><a href="#problematic-35">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal">/content/ZIMNAME</tt> redirects to the main page of the ZIM file with <a href="#system-message-36"><span class="problematic" id="problematic-36">:term:`name
&lt;ZIM name&gt;`</span></a> <tt class="docutils literal">ZIMNAME</tt> (unless that ZIM file contains an entry with an empty
path or path equal to <tt class="docutils literal">/</tt>, in which case that entry is returned).</p>
<div class="system-message" id="system-message-36">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 518); <em><a href="#problematic-36">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
</div>
</div>
<div class="section" id="random">
<h2><tt class="docutils literal">/random</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-37"><span class="problematic" id="problematic-37">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-37">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 528); <em><a href="#problematic-37">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p><strong>Usage:</strong></p>
<blockquote>
<tt class="docutils literal"><span class="pre">/random?content=ZIMNAME</span></tt></blockquote>
<p>Generates a HTTP redirect to a randomly selected article/page from the
specified ZIM file.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<p><tt class="docutils literal">content</tt>: <a href="#system-message-38"><span class="problematic" id="problematic-38">:term:`name of the ZIM file &lt;ZIM name&gt;`</span></a>.</p>
<div class="system-message" id="system-message-38">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 539); <em><a href="#problematic-38">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
</blockquote>
</div>
<div class="section" id="raw-1">
<span id="raw"></span><h2><tt class="docutils literal">/raw</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-39"><span class="problematic" id="problematic-39">:ref:`public &lt;public-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-39">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 549); <em><a href="#problematic-39">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>The <tt class="docutils literal">/raw</tt> API provides access to ZIM file data. It consists of two separate
endpoints for accessing data and metadata.</p>
<div class="section" id="raw-zimname-content-path-in-zimfile">
<h3><tt class="docutils literal">/raw/ZIMNAME/content/PATH/IN/ZIMFILE</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-40"><span class="problematic" id="problematic-40">:ref:`public API &lt;raw&gt;`</span></a></p>
<div class="last system-message" id="system-message-40">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 560); <em><a href="#problematic-40">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns the entry with path <tt class="docutils literal">PATH/IN/ZIMFILE</tt> from the ZIM file with
<a href="#system-message-41"><span class="problematic" id="problematic-41">:term:`name &lt;ZIM name&gt;`</span></a> <tt class="docutils literal">ZIMNAME</tt>. Currently, this endpoint almost duplicates
(with some subtle technical differences) the newer endpoint
<a class="reference internal" href="#content-zimname-path-in-zimfile">/content/ZIMNAME/PATH/IN/ZIMFILE</a>. The important difference is that the
<tt class="docutils literal">/raw</tt> endpoint guarantees that no server-side processing will be applied to
the returned content, whereas content obtained via the <tt class="docutils literal">/content</tt> endpoint
may in the future undergo some processing intended to improve the operation of
the viewer (e.g. compensating for certain bugs in ZIM creation). Also note that
<tt class="docutils literal">/raw</tt> is <a href="#system-message-42"><span class="problematic" id="problematic-42">:ref:`public &lt;public-api-endpoint&gt;`</span></a>, whereas <tt class="docutils literal">/content</tt> is
<a href="#system-message-43"><span class="problematic" id="problematic-43">:ref:`private &lt;private-api-endpoint&gt;`</span></a>.</p>
<div class="system-message" id="system-message-41">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 562); <em><a href="#problematic-41">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
<div class="system-message" id="system-message-42">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 562); <em><a href="#problematic-42">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="system-message" id="system-message-43">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 562); <em><a href="#problematic-43">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</div>
<div class="section" id="raw-zimname-meta-metadataid">
<h3><tt class="docutils literal">/raw/ZIMNAME/meta/METADATAID</tt></h3>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first">member of a <a href="#system-message-44"><span class="problematic" id="problematic-44">:ref:`public API &lt;raw&gt;`</span></a></p>
<div class="last system-message" id="system-message-44">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 579); <em><a href="#problematic-44">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Returns the metadata item <tt class="docutils literal">METADATAID</tt> from the ZIM file with <a href="#system-message-45"><span class="problematic" id="problematic-45">:term:`name
&lt;ZIM name&gt;`</span></a> <tt class="docutils literal">ZIMNAME</tt>.</p>
<div class="system-message" id="system-message-45">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 581); <em><a href="#problematic-45">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
</div>
</div>
<div class="section" id="search">
<h2><tt class="docutils literal">/search</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-46"><span class="problematic" id="problematic-46">:ref:`public &lt;public-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-46">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 590); <em><a href="#problematic-46">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Performs a full text search on one or more ZIM files and returns an HTML page
with a list of links to matching pages along with snippets of the matching
portions of those pages.</p>
<p id="multi-zim-search-constraints">A multi-ZIM search request must comply with the following constraints:</p>
<ul>
<li><p class="first">the number of ZIM files participating in the search operation must not exceed
the limit imposed by the <a href="#system-message-47"><span class="problematic" id="problematic-47">:option:`--searchLimit`</span></a> option of <tt class="docutils literal"><span class="pre">kiwix-serve</span></tt>.</p>
<div class="system-message" id="system-message-47">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 600); <em><a href="#problematic-47">backlink</a></em></p>
<p>Unknown interpreted text role &quot;option&quot;.</p>
</div>
</li>
<li><p class="first">all of the ZIM files participating in the same search operation must be in
the same language.</p>
</li>
</ul>
<p><strong>Parameters:</strong></p>
<blockquote>
<p>ZIM file selection parameters:</p>
<blockquote>
<p>At least one of the following parameters must be provided in order to
specify in which ZIM file(s) to search. Parameters appearing earlier in
below list take precedence over subsequent ones (the later ones, even if
present in the request, are simply ignored).</p>
<p><tt class="docutils literal">content</tt>: <a href="#system-message-48"><span class="problematic" id="problematic-48">:term:`name of the ZIM file &lt;ZIM name&gt;`</span></a> (for a single-ZIM
search). This is a <a href="#system-message-49"><span class="problematic" id="problematic-49">:ref:`legacy parameter &lt;deprecation&gt;`</span></a>. <tt class="docutils literal">books.name</tt>
should be used instead.</p>
<div class="system-message" id="system-message-48">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 616); <em><a href="#problematic-48">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
<div class="system-message" id="system-message-49">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 616); <em><a href="#problematic-49">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<p><tt class="docutils literal">books.id</tt>: <a href="#system-message-50"><span class="problematic" id="problematic-50">:term:`UUID &lt;ZIM UUID&gt;`</span></a> of the ZIM file. Can be repeated for
a multi-ZIM search, however must respect the <a href="#system-message-51"><span class="problematic" id="problematic-51">:ref:`multi-ZIM search
constraints &lt;multi-zim-search-constraints&gt;`</span></a>.</p>
<div class="system-message" id="system-message-50">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 620); <em><a href="#problematic-50">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
<div class="system-message" id="system-message-51">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 620); <em><a href="#problematic-51">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If any of the provided <tt class="docutils literal">books.id</tt> values refers to a book missing
from the library then an error is returned instead of running the
search on the remaining (valid) entries.</p>
</div>
</blockquote>
<p><tt class="docutils literal">books.name</tt>: <a href="#system-message-52"><span class="problematic" id="problematic-52">:term:`name of the ZIM file &lt;ZIM name&gt;`</span></a> (not to be confused
with <tt class="docutils literal">books.filter.name</tt> which selects/filters based on the <a href="#system-message-53"><span class="problematic" id="problematic-53">:term:`book
name &lt;Book name&gt;`</span></a>). Can be repeated for a multi-ZIM search, however must
respect the <a href="#system-message-54"><span class="problematic" id="problematic-54">:ref:`multi-ZIM search constraints
&lt;multi-zim-search-constraints&gt;`</span></a>.</p>
<div class="system-message" id="system-message-52">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 630); <em><a href="#problematic-52">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
<div class="system-message" id="system-message-53">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 630); <em><a href="#problematic-53">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
<div class="system-message" id="system-message-54">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 630); <em><a href="#problematic-54">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If any of the provided <tt class="docutils literal">books.name</tt> values refers to a book missing
from the library then an error is returned instead of running the
search on the remaining (valid) entries.</p>
</div>
</blockquote>
<p><tt class="docutils literal"><span class="pre">books.filter.{criteria}</span></tt>: allows to take full advantage of <a href="#system-message-55"><span class="problematic" id="problematic-55">:ref:`library
filtering &lt;library-filtering&gt;`</span></a> functionality of the <a class="reference internal" href="#catalog-v2-entries">/catalog/v2/entries</a>
endpoint (<tt class="docutils literal">{criteria}</tt> must be replaced with an attribute/filtering
criteria name supported by <a href="#system-message-56"><span class="problematic" id="problematic-56">:ref:`library filtering &lt;library-filtering&gt;`</span></a>).</p>
<div class="system-message" id="system-message-55">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 642); <em><a href="#problematic-55">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="system-message" id="system-message-56">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 642); <em><a href="#problematic-56">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</blockquote>
<p>Query parameters:</p>
<blockquote>
<p><tt class="docutils literal">pattern</tt> (optional; defaults to an empty string): text to search for.</p>
<p><tt class="docutils literal">latitude</tt>, <tt class="docutils literal">longitude</tt> &amp; <tt class="docutils literal">distance</tt> (optional): geospatial query
parameters. If all of these are provided, then the results will be
restricted to geotagged pages that are within <tt class="docutils literal">distance</tt> metres from the
location on Earth with coordinates <tt class="docutils literal">latitude</tt> and <tt class="docutils literal">longitude</tt>.</p>
</blockquote>
<p>Pagination parameters:</p>
<blockquote>
<p><tt class="docutils literal">pageLength</tt> (optional, default: 25): maximum number of search results in
the response. Capped at 140.</p>
<p><tt class="docutils literal">start</tt> (optional, default: 1): this parameter enables pagination of
results. The response will include up to <tt class="docutils literal">pageLength</tt> results starting
with entry # <tt class="docutils literal">start</tt> from the full list of search results (the first
result is assumed to have index 1).</p>
</blockquote>
<p>Other parameters:</p>
<blockquote>
<tt class="docutils literal">format</tt> (optional, default: html): format of the search results. Allowed
values are: html, xml.</blockquote>
</blockquote>
<p>Examples:</p>
<pre class="code sh literal-block">
<span class="comment single"># Search for 'android' in the book with name 'scifi-library'
# Return results ## 51-60.
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/search?pattern=android&amp;books.name=scifi-library&amp;start=51&amp;pageLength=10'</span><span class="whitespace">

</span><span class="comment single"># Search for 'napoli' in books in Italian
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/search?books.filter.lang=ita&amp;pattern=napoli'</span><span class="whitespace">

</span><span class="comment single"># Search for 'chateau' in books in French that have a category of 'wikipedia'.
# Return the results as XML.
</span>$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost:8080/search?pattern=chateau&amp;books.filter.lang=fra&amp;books.filter.category=wikipedia&amp;format=xml'</span>
</pre>
</div>
<div class="section" id="search-searchdescription-xml">
<h2><tt class="docutils literal">/search/searchdescription.xml</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-57"><span class="problematic" id="problematic-57">:ref:`public &lt;public-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-57">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 692); <em><a href="#problematic-57">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Describes the <a class="reference internal" href="#search">/search</a> endpoint in <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/OpenSearch">OpenSearch description format</a>.</p>
</div>
<div class="section" id="skin">
<h2><tt class="docutils literal">/skin</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-58"><span class="problematic" id="problematic-58">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-58">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 704); <em><a href="#problematic-58">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Static front-end resources (such as CSS, javascript and images) are all grouped
under <tt class="docutils literal">/skin</tt>.</p>
<dl class="docutils">
<dt><strong>Usage:</strong></dt>
<dd><tt class="docutils literal"><span class="pre">/skin/PATH/TO/RESOURCE[?cacheid=CACHEID]</span></tt></dd>
</dl>
<p><a class="reference external" href="https://javascript.plainenglish.io/what-is-cache-busting-55366b3ac022">Cache busting</a> of
static resources is supported via the optional param <tt class="docutils literal">cacheid</tt>. By default,
i.e. when the <tt class="docutils literal">cacheid</tt> parameter is not specified while accessing the
<tt class="docutils literal">/skin</tt> endpoint, static resources are served as if they were dynamic (i.e.
could be different for an immediately repeated request). Specifying the
<tt class="docutils literal">cacheid</tt> parameter with a correct value (matching the value embedded in the
<tt class="docutils literal"><span class="pre">kiwix-serve</span></tt> instance), makes the returned resource to be presented as
immutable. However, if the value of the <tt class="docutils literal">cacheid</tt> parameter mismatches then
<tt class="docutils literal"><span class="pre">kiwix-serve</span></tt> responds with a 404 HTTP error.</p>
<p><tt class="docutils literal"><span class="pre">kiwix-serve</span></tt>'s default front-end (the <a href="#system-message-59"><span class="problematic" id="problematic-59">:ref:`welcome page &lt;welcome-page&gt;`</span></a> and
the <a href="#system-message-60"><span class="problematic" id="problematic-60">:ref:`ZIM file viewer &lt;zim-file-viewer&gt;`</span></a>) access all underlying static
resources by using explicit <tt class="docutils literal">cacheid</tt> s.</p>
<div class="system-message" id="system-message-59">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 723); <em><a href="#problematic-59">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="system-message" id="system-message-60">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 723); <em><a href="#problematic-60">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</div>
<div class="section" id="suggest">
<h2><tt class="docutils literal">/suggest</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-61"><span class="problematic" id="problematic-61">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-61">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 733); <em><a href="#problematic-61">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p><strong>Usage:</strong></p>
<blockquote>
<tt class="docutils literal"><span class="pre">/suggest?content=ZIMNAME[&amp;term=QUERY][&amp;count=N][&amp;start=S]</span></tt></blockquote>
<p>Returns suggestions (in JSON format) for a text string that is assumed to be a
partially typed search for a page inside a particular ZIM file.</p>
<p>Suggestions are obtained as matches of the query text against the page titles
in the ZIM file using the title index database generated during the creation of
the ZIM file.</p>
<p>In case of a multi-word query the order of the words matters in two ways:</p>
<ol class="arabic simple">
<li>the last word is considered as partially typed, unless followed by a space;</li>
<li>ranking of the matches.</li>
</ol>
<p>If the ZIM file doesn't contain a title index then suggestions are generated by
listing page titles starting <em>exactly</em> (in a case sensitive manner) with the
query text. Otherwise, suggestions are case-insensitive.</p>
<p>If the ZIM file contains a full text search index, then an extra suggestion is
added as an option to perform a full text search in the said ZIM file.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<p><tt class="docutils literal">content</tt> (mandatory): <a href="#system-message-62"><span class="problematic" id="problematic-62">:term:`name of the ZIM file &lt;ZIM name&gt;`</span></a>.</p>
<div class="system-message" id="system-message-62">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 760); <em><a href="#problematic-62">backlink</a></em></p>
Unknown interpreted text role &quot;term&quot;.</div>
<p><tt class="docutils literal">term</tt> (optional; defaults to an empty string): query text.</p>
<p><tt class="docutils literal">count</tt> (optional, default: 10): maximum number of page suggestions in the
response (i.e. the extra option to perform a full text search is not included
in this count).</p>
<p><tt class="docutils literal">start</tt> (optional, default: 0): this parameter enables pagination of
results. The response will include up to <tt class="docutils literal">count</tt> entries starting with
entry # <tt class="docutils literal">start</tt> from the full list of page suggestions (the first result is
assumed to have index 0).</p>
</blockquote>
<p><strong>Example:</strong></p>
<pre class="code sh literal-block">
$<span class="whitespace"> </span>curl<span class="whitespace"> </span><span class="literal string single">'http://localhost/suggest?content=stackoverflow_en&amp;term=pyth&amp;count=50'</span>
</pre>
</div>
<div class="section" id="viewer">
<span id="zim-file-viewer"></span><h2><tt class="docutils literal">/viewer</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-63"><span class="problematic" id="problematic-63">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-63">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 787); <em><a href="#problematic-63">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>ZIM file viewer. The ZIM file and entry therein must be specified via the hash
component of the URL as <tt class="docutils literal">/viewer#ZIMNAME/PATH/IN/ZIMFILE</tt>.</p>
</div>
<div class="section" id="viewer-settings-js">
<h2><tt class="docutils literal">/viewer_settings.js</tt></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-64"><span class="problematic" id="problematic-64">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-64">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 798); <em><a href="#problematic-64">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Settings of the ZIM file viewer that are configurable via certain command line
options of <tt class="docutils literal"><span class="pre">kiwix-serve</span></tt> (e.g. <tt class="docutils literal"><span class="pre">--nolibrarybutton</span></tt>).</p>
</div>
<div class="section" id="anything-else">
<h2>/ANYTHING/ELSE</h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr><td>Type:</td>
<td><p class="first"><a href="#system-message-65"><span class="problematic" id="problematic-65">:ref:`private &lt;private-api-endpoint&gt;`</span></a></p>
<div class="last system-message" id="system-message-65">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 809); <em><a href="#problematic-65">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</td>
</tr>
</tbody>
</table>
<p>Any other URL is considered as an attempt to access ZIM file content using the
legacy URL scheme and is redirected to <tt class="docutils literal">/content/ANYTHING/ELSE</tt>.</p>
</div>
</div>
<div class="section" id="glossary">
<h1>Glossary</h1>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 818)</p>
<p>Unknown directive type &quot;glossary&quot;.</p>
<pre class="literal-block">
.. glossary::

  Book name

    Name of the book as specified in the ZIM file metadata (for a
    ``kiwix-serve`` started *WITHOUT* the :option:`--library` option) or the
    library XML file (for a ``kiwix-serve`` started with the
    :option:`--library` option).

    .. note::

      Two or more books may have the same name in the library. That's not
      considered a conflict, because there may be multiple versions of the
      &quot;same&quot; book (differing by the settings of the scraper, date, etc).
      :ref:`Library filtering &lt;library-filtering&gt;` by name will return all
      matching books.

  ZIM filename

    Name of a ZIM file on the server filesystem.

  ZIM name

    Identifier of a ZIM file in the server's library (used for referring to a
    particular ZIM file in requests).

    ZIM names are derived from the filenames as follows:

    - file extension is removed,
    - all characters are converted to lowercase,
    - diacritics are removed,
    - spaces are replaced with underscores,
    - ``+`` symbols are replaced with the text ``plus``.

    Presence of the :option:`-z`/:option:`--nodatealiases` option will create
    additional names (aliases) for filenames with dates.

    ZIM names are expected to be unique across the library. Any name conflicts
    (including those caused by the usage of the
    :option:`-z`/:option:`--nodatealiases` option) are reported on STDERR but,
    otherwise, are ignored (i.e. only one of the entries can be accessed via
    the conflicting name).

  ZIM title

    Title of a ZIM file. This can be any text (with whitespace). It is never
    used as a way of referring to a ZIM file.

  ZIM UUID

    This is a unique identifier of a ZIM file designated at its creation time
    and embedded in the ZIM file. Certain ``kiwix-serve`` operations may
    require that a ZIM file be referenced through its UUID rather than name.
</pre>
</div>
</div>
</div>
</body>
</html>
